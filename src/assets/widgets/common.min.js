PULSE.app.templates.loader = "", PULSE.app.templates.pagination = '<div class="paginationBtn paginationPreviousContainer"><div class="icn chevron-left"></div><div class="visuallyHidden">Previous</div></div><div class="paginationBtn paginationNextContainer inactive"><div class="icn chevron-right"></div><div class="visuallyHidden">Next</div></div>', PULSE.app.templates.cookienotice = '<div class="wrapper col-12"><h3 class="subHeader">{{ headerText }}</h3><p>{{ description }}</p><a href="{{ policyLink }}" class="btn-primary cookiesInfo">{{ findOutMore }}<span class="icn arrow-right-w"></span></a><div class="btn-primary cookies-notice-accept" role="btn" tabindex="0">{{ acceptText }}<span class="icn tick-w"></span></div></div>', PULSE.app.templates.commonmatchbroadcaster = '{{#multipleLabel}} <span class="multipleBroadcastersContainer fixture js-multipleBroadcasters-22562"><span class="broadcaster multiple"><span class="icn tv-d"></span> <span class="multipleBroadcastersButton">{{ multipleLabel }} <span class="visuallyHidden">Open multiple broadcasters modal</span> </span></span></span>{{/multipleLabel}} {{^multipleLabel}} <span class="broadcaster"><div class="logo broadcaster-{{ abbreviation }}"><span class="broadcaster-text">{{ name }}</span></div></span>{{/multipleLabel}}', PULSE.app.templates.matchmodalbroadcasters = '<div class="modalBroadcasterHeaderRow"><div class="broadcasterHeader">Broadcaster</div><div class="broadcasterHeaderRight"><span class="broadcasterInfo">More info </span><span class="broadcasterOnline">Online</span></div></div>{{#broadcasters}}<div class="modalBroadcasterRow"><div class="modalBroadcasterNames"><div class="modalBroadcasterContainer"><div class="broadcasterName">{{ name }}</div><div class="broadcasterLogoWrapper"><div class="logo broadcaster-{{ abbreviation }} broadcasterLogo"></div></div></div></div><div class="modalBroadcasterLinkContainer"><div class="modalBroadcasterInfo"><div class="modalBroadcasterLink">{{^url}}<div class="modalBroadcasterLinkInfo"></div>{{/url}} {{#url}}<div class="modalBroadcasterLinkInfo"><a href="{{url}}?utm_source=premier-league-website&utm_campaign=website&utm_medium=link" target="_blank" class="modalBroadcasterContainer"><span class="broadcasterSiteLink">{{ visitSiteLabel }}</span> <span class="icn external-d"><span class="visuallyHidden">{{ externalLinkText }}</span></span></a></div>{{/url}}</div></div><div class="modalBroadcasterLiveStreamContainer"><div class="modalBroadcasterLiveStream"><span class="matchCentreLiveStreamContainer {{^liveStreaming.hasLiveStream}}matchCentreLiveStreamContainerEmpty{{/liveStreaming.hasLiveStream}}">{{#liveStreaming.hasLiveStream}} <a href="{{ liveStreaming.liveStreamURL}}?utm_source=premier-league-website&utm_campaign=website&utm_medium=link" target="_blank" alt="External stream link from {{name}}"><span class="icn livestream"></span>{{ liveStreaming.liveStreamLabel }} <span class="visuallyHidden">Live stream available for this match.</span> <span class="icn external-w"><span class="visuallyHidden">{{ externalLinkText }}</span></span> </a>{{/liveStreaming.hasLiveStream}}</span></div></div></div></div>{{/broadcasters}}', PULSE.app.templates.search = '<div class="searchInputContainer" role="search"><label for="search-input" class="visuallyHidden">{{ placeholder }}</label><input id="search-input" type="text" value="{{ term }}" placeholder="{{ placeholder }}" class="searchTextContainer searchInput"><div class="searchIconContainer searchCommit" role="button" tabindex="0"><div alt="" class="icn search-sm"><span class="visuallyHidden">{{ accessibleSearchPhrase }}</span></div></div></div>', PULSE.app.templates.matchnavscore = '<div class="score">{{ scores.0 }}<span>-</span>{{ scores.1 }}</div>', PULSE.app.templates.pagehover = '<div class="socialShareHover"><div class="socialShareBtn" role="button" tabindex="0" aria-haspopup="true"><div class="icn share"></div>{{ share }}</div><ul class="socialOptions" role="listbox"><li><div class="option whatsapp" role="option" tabindex="0" data-social-service="whatsapp"><span class="icn whatsapp-w"></span><span class="visuallyHidden">{{ shareWhatsapp }}</span></div></li><li><div class="option twitter" role="option" tabindex="0" data-social-service="twitter"><span class="icn twitter-w"></span><span class="visuallyHidden">{{ shareTwitter }}</span></div></li><li><div class="option facebook" role="option" tabindex="0" data-social-service="facebook"><span class="icn facebook-w"></span><span class="visuallyHidden">{{ shareFacebook }}</span></div></li><li><div class="option copy" role="option" tabindex="0" data-social-service="copy"><span class="icn copy-link-w"></span><span class="visuallyHidden">{{shareCopy}}</span></div></li><li><div class="option email" role="option" tabindex="0" data-social-service="email"><span class="icn mail-w"></span><span class="visuallyHidden">{{shareEmail}}</span></div></li></ul></div>', PULSE.app.templates.statsshare = '<div class="socialShare widgetShare"><div class="socialShareBtn" tabindex="0" role="button"><div class="icn share"></div></div><ul class="socialOptions" role="listbox"><li><div role="option" class="option" tabindex="0"><span class="icn twitter" data-social-service="twitter"><span class="visuallyHidden">{{ shareTwitter }}</span></span></div></li><li><div role="option" class="option" tabindex="0"><span class="icn facebook" data-social-service="facebook"><span class="visuallyHidden">{{ shareFacebook }}</span></span></div></li><li><div role="option" class="option" tabindex="0"><span class="icn whatsapp" data-social-service="whatsapp"><span class="visuallyHidden">{{ shareWhatsapp }}</span></span></div></li></ul></div>', PULSE.app.templates.listfilter = '<div class="dropDown inactive {{#visibleOnMobile}}mobile{{/visibleOnMobile}}" data-dropdown-block="{{dropdown.name}}" data-dropdown-default="{{dropdown.defaultOption}}"><div class="label" id="dd-{{dropdown.name}}">{{dropdown.label}}</div>{{#defaultItem}}<div class="current" data-dropdown-current="{{dropdown.name}}" role="button" tabindex="0" aria-expanded="false" aria-labelledby="dd-{{dropdown.name}}">{{defaultItem.optionName}}</div>{{/defaultItem}} {{^defaultItem}}<div class="current" data-dropdown-current="{{dropdown.name}}" role="button" tabindex="0" aria-expanded="false" aria-labelledby="dd-{{dropdown.name}}">{{dropdown.defaultOption}}</div>{{/defaultItem}}<ul class="dropdownList" data-dropdown-list="{{dropdown.name}}" role="listbox" aria-labelledby="dd-{{dropdown.name}}">{{#dropdown.data}}<li role="option" tabindex="0" data-option-name="{{optionName}}" data-option-id="{{optionId}}" data-option-index="{{#getIndex}}{{/getIndex}}">{{optionName}}</li>{{/dropdown.data}}</ul></div>', PULSE.app.templates.listfilteroption = '{{#config.defaultOption}}<li role="option" tabindex="0" data-option-name="{{config.defaultOption}}" data-option-id="-1" data-option-index="-1">{{config.defaultOption}}</li>{{/config.defaultOption}} {{#optionData}}<li role="option" tabindex="0" data-option-name="{{optionName}}" data-option-id="{{optionId}}" data-option-index="{{#getIndex}}{{/getIndex}}">{{optionName}}</li>{{/optionData}}', PULSE.app.templates.loader = '<div class="loader-small" data-dropdown-loader="active"><div class="line"></div></div>', PULSE.app.templates.mobilefooter = '<div class="btn-more" role="button">Filter<span class="icn add-w"></span></div><div class="btn-highlight apply" role="button"><div class="icn tick-w"></div>Apply Filters</div>', PULSE.app.templates.mobileheader = '<header class="mobileHeader"><h4>{{title}}</h4><div class="close" role="button">Cancel<span class="icn close-w"></span></div></header>', PULSE.app.templates.resetbutton = '<div class="btn reset" role="button" tabindex="0">{{#translator}}action.resetfilters{{/translator}}<div class="icn reset"></div></div>', PULSE.app.templates.scrollloader = '{{ load }}<div class="loader-small"><div class="line"></div></div>', function (e, t) { var a = "[data-count-up]", n = { INACTIVE: "count-up", ACTIVE: "active" }, o = { from: "data-count-up-from", to: "data-count-up-to", duration: "data-count-up-duration" }, r = { from: 0, duration: 1200 }, i = function (e) { var t, a = 100, n = e.duration, o = n / a, r = Math.floor((e.to - e.from) / o), i = 0, l = 0; e.element.innerHTML = Math.ceil(e.from).toLocaleString(), t = setInterval(function () { i < o ? (i++ , l += r, e.element.innerHTML = Math.ceil(l).toLocaleString()) : (clearInterval(t), e.element.innerHTML = e.to.toLocaleString()) }, a) }; e.CountUp = function (e) { var o = this; o.container = e, o.elements = Array.prototype.slice.call(o.container.querySelectorAll(a)); for (var r = 0; r < o.elements.length; r++)t.style.addClass(o.elements[r], n.INACTIVE) }, e.CountUp.prototype.start = function () { var e = this; e.elements.forEach(function (e) { var a = t.object.extend({}, { from: parseInt(e.getAttribute(o.from)), to: parseFloat(e.getAttribute(o.to)), duration: parseInt(e.getAttribute(o.duration)), element: e }, r); return a.to ? (t.style.addClass(a.element, n.ACTIVE), void i(a)) : void console.warn("Counter: data-count-up-to NOT SPECIFIED") }) } }(PULSE.app, PULSE.core), function (e, t) { e.checkGameweek = function (e) { var t = this; t.config = e || {}, t.compSeason = t.config.compSeason, t.gameWeek = t.config.gameWeek, t.callback = t.config.callback, t.target = t.config.target, t.getCurrentWeek() }, e.checkGameweek.prototype.getCurrentWeek = function () { var a = this, n = { id: a.compSeason }, o = { url: e.createApiPath("competition-season.gameweeks.current", n), method: "GET", callback: a.checkGameweek, forceCallback: !0, target: this }; t.data.manager.add(o) }, e.checkGameweek.prototype.checkGameweek = function (e) { var t = this; if (e && e.gameweeks && e.gameweeks.length > 0) { var a = !1; e.gameweeks[0].gameweek == t.gameWeek && (a = !0), t.callback.call(t.config.target, a) } } }(PULSE.app.common, PULSE.core), function (e, t) { e.articleTable = function (e) { var t = this; t.container = e, t.tables = t.container.querySelectorAll("table"); for (var a = 0; a < t.tables.length; a++)t.container.className === t.tables[a].parentElement.className && (t.tables[a].outerHTML = '<div class="table-scrollable">' + t.tables[a].outerHTML + "</div>") }; var a = document.querySelectorAll(".standardArticle"); Array.prototype.map.call(a, function (t) { t = new e.articleTable(t) }) }(PULSE.app.common, PULSE.core), function (e, t, a, n) { var o = function (e) { return e ? e.replace(/[|&;$%@"<>()+,]/g, "") : "" }, r = function (e) { var t = ""; if (e) { var a = (Math.floor(e / 3600), Math.floor(e / 60)), n = e % 60; a < 10 && (t += "0"), t += a + ":", n < 10 && (t += "0"), t += n } return t }, i = function (e) { if (e.tags && e.tags.length > 0) for (var t = 0; t < e.tags.length; t++)if (e.tags[t] && e.tags[t].label && e.tags[t].label.indexOf("OptaID") > -1) { var a = e.tags[t].label.split("_"); if (a.length > 1) return a[1] } }; t.getContentModel = function (l) { var s = function (e) { var t; return e.references.forEach(function (e) { "ACCESSIBLE_VIDEO" === e.type && (t = !0) }), t }, c = l || {}, d = ""; switch (c.template = c.type, c.type) { case "text": c.articleUrl = c.hotlinkUrl ? c.hotlinkUrl : c.url ? c.url : t.generateContentUrl(c.type, c.id), null != c.tags && c.tags.map(function (e) { "Featured" === e.label && (c.articleUrl += "/featured") }); if (c.optaId = i(c), c.leadMedia && c.leadMedia.variants && "video" != c.leadMedia.type) { var p = e["Embed Photo"]; c.variant = t.getVariantBySize(c.leadMedia.variants, p.width, p.height), c.imageAlt = c.leadMedia.title } else c.leadMedia && c.leadMedia.thumbnailUrl ? (c.variant = { url: c.leadMedia.thumbnailUrl }, c.imageAlt = c.leadMedia.title) : c.optaId && (c.variant = { url: t.getDefaultTeamThumbnailUrl(c.optaId) }); if (c.related) { var u = []; c.related.forEach(function (e, a) { a < 3 && (e.url = t.generateContentUrl(e.type.toLowerCase(), e.id), u.push(e)) }), c.related = u } var m = new RegExp('<link rel="stylesheet"(.|\n)*?>'); "string" == typeof c.body && (c.body = c.body.replace(m, "")); break; case "photo": if (c.variants) { var p = e["Embed Photo"]; c.variant = t.getVariantBySize(c.variants, p.width, p.height); var f = t.getVariantWithWidth(c.variants, e.Widescreen.width); c.galleryVariant = f ? f.url : "" } c.svgPath = "M39.8,65.2H13.5c-1.2,0-2.2-1-2.2-2.2V36.7c0-0.9,0.5-1.7,1.4-2.1c0.8-0.4,1.8-0.2,2.4,0.4l8.4,8c0.9,0.9,0.9,2.3,0.1,3.2", c.svgPath += "c-0.9,0.9-2.3,0.9-3.2,0.1l-4.6-4.4v18.9h18.9l-4.4-4.6c-0.8-0.9-0.8-2.2,0-3.1l12.5-12.9c0.9-0.9,2.3-0.9,3.2-0.1", c.svgPath += "c0.9,0.9,0.9,2.3,0.1,3.2L35,54.6l6.5,6.8c0.6,0.7,0.8,1.6,0.4,2.4C41.6,64.7,40.7,65.2,39.8,65.2z M63,42.1c-0.6,0-1.1-0.2-1.5-0.6", c.svgPath += "l-8.4-8c-0.9-0.9-0.9-2.3-0.1-3.2c0.9-0.9,2.3-0.9,3.2-0.1l4.6,4.4V15.8H41.9l4.4,4.6c0.8,0.9,0.8,2.2,0,3.1L33.7,36.4", c.svgPath += "c-0.9,0.9-2.3,0.9-3.2,0.1c-0.9-0.9-0.9-2.3-0.1-3.2l11-11.4L35,15c-0.6-0.7-0.8-1.6-0.4-2.4c0.4-0.8,1.2-1.4,2.1-1.4H63", c.svgPath += "c1.2,0,2.2,1,2.2,2.2v26.3c0,0.9-0.5,1.7-1.4,2.1C63.6,42,63.3,42.1,63,42.1z"; break; case "video": if (d = "undefined" != typeof c.publishFrom ? c.publishFrom : "undefined" != typeof c.timestamp ? c.timestamp : c.date, c.thumbnail && c.thumbnail.variants.length > 0) { var p = e["Embed Photo"]; c.variant = t.getVariantBySize(c.thumbnail.variants, p.width, p.height), "undefined" == typeof c.variant && (c.variant = { url: c.thumbnailUrl }) } else c.variant = { url: c.thumbnailUrl }; c.uiArgs = JSON.stringify({ contentId: c.id, mediaId: c.mediaId ? c.mediaId : 0, mediaTitle: o(c.title), mediaDescription: o(c.description), mediaDate: a(d).format("DD/M/YYYY"), mediaHotlinkUrl: c.hotlinkUrl ? o(c.hotlinkUrl) : "", mediaHotlinkText: c.metadata.hotlinkText ? o(c.metadata.hotlinkText) : "" }), c.durationString = r(c.duration), c.closedCaptioned && (c.ccString = n.lookup("label.closedcaption")), s(c) && (c.avString = n.lookup("label.audiodescription")); break; case "playlist": "PHOTO" === c.typeRestriction ? c.url = t.generateContentUrl("gallery", c.id) : c.url = t.generateContentUrl(type, c.id), c.coverItem && c.coverItem.variants && (c.variant = t.getVariantBySize(c.coverItem.variants, e["Embed Photo"].width, e["Embed Photo"].height)), c.itemsSize = c.items ? c.items.length : 0 }return c } }(PULSE.app.photoVariants, PULSE.app.common, moment, PULSE.I18N), function (e, t) { e.getPlayerModel = function (a) { var n = a; return n.url = e.generateContentUrl("player", n.id, n.name.display.replace(new RegExp(" ", "g"), "-")), n.imageSize = "110x140", n.playerImage = e.getDefaultPlayerImg(n.imageSize), n.optaId = n.altIds && n.altIds.opta ? n.altIds.opta : void 0, n.activeClass = n.active ? "active" : "inactive", n.info && n.info.shirtNum && (n.shirtNum = n.info.shirtNum), n.latestPosition && (n.positionLabel = t.lookup("label." + n.latestPosition.toLowerCase())), n.nationalTeam ? n.nationality = { country: n.nationalTeam.country, isoCode: n.nationalTeam.isoCode, label: t.lookup("label.player.nationality") } : n.birth && n.birth.country && n.birth.country.country && n.birth.country.isoCode && (n.nationality = { country: n.birth.country.country, isoCode: n.birth.country.isoCode, label: t.lookup("label.player.nationality") }), n.stats = [], n.stats.push({ label: t.lookup("label.stat.appearances"), stat: void 0 != n.appearances ? n.appearances : "0" }), !n.latestPosition || "GOALKEEPER" !== n.latestPosition && "DEFENDER" !== n.latestPosition || n.stats.push({ label: t.lookup("label.stat.clean_sheet"), stat: void 0 != n.cleanSheets ? n.cleanSheets : "0" }), n.latestPosition && "GOALKEEPER" != n.latestPosition && n.stats.push({ label: t.lookup("label.stat.goals"), stat: void 0 != n.goals ? n.goals : "0" }), n.latestPosition && "GOALKEEPER" != n.latestPosition && "DEFENDER" != n.latestPosition && n.stats.push({ label: t.lookup("label.stat.assists"), stat: void 0 != n.assists ? n.assists : "0" }), n.currentTeam && (n.team = { name: n.currentTeam.shortName, url: e.generateContentUrl("team", n.currentTeam.club.id, n.currentTeam.club.name.replace(new RegExp(" ", "g"), "-")) }, n.team.opta = n.currentTeam.altIds && n.currentTeam.altIds.opta ? n.currentTeam.altIds.opta : ""), n.profileLabel = t.lookup("label.playerprofile"), n }, e.getManagerModel = function (a) { var n = a; return n.url = e.generateContentUrl("manager", n.id, n.name.display.replace(new RegExp(" ", "g"), "-")), n.imageSize = "110x140", n.playerImage = e.getDefaultPlayerImg(n.imageSize), n.optaId = n.altIds && n.altIds.opta ? n.altIds.opta : void 0, n.activeClass = n.active ? "active" : "inactive", n.nationalTeam ? n.nationality = { country: n.nationalTeam.country, isoCode: n.nationalTeam.isoCode, label: t.lookup("label.player.nationality") } : n.birth && n.birth.country && n.birth.country.country && n.birth.country.isoCode && (n.nationality = { country: n.birth.country.country, isoCode: n.birth.country.isoCode, label: t.lookup("label.player.nationality") }), n.currentTeam && (n.team = { name: n.currentTeam.shortName, url: e.generateContentUrl("team", n.currentTeam.club.id, n.currentTeam.club.name.replace(new RegExp(" ", "g"), "-")) }, n.team.opta = n.currentTeam.altIds && n.currentTeam.altIds.opta ? n.currentTeam.altIds.opta : ""), n.profileLabel = t.lookup("label.managerProfile"), n } }(PULSE.app.common, PULSE.I18N), function (e, t, a) { var n = 864e5; e.momentGetDaysFromRange = function (e, o, r, i) { var l = e instanceof Date ? e : new Date(e), s = o instanceof Date ? o : new Date(o), c = l.getTime(), d = (s.getTime(), []), p = c; i && l.toLocaleDateString() !== s.toLocaleDateString() && d.push({ date: l, string: a && r ? a(l).locale(t.language).format(r) : l.toLocaleDateString(), std: !!a && a(l).format("DD-MM-YYYY") }); do { p += n; var u = new Date(p); d.push({ date: u, string: a && r ? a(u).locale(t.language).format(r) : u.toLocaleDateString(), std: !!a && a(u).format("DD-MM-YYYY") }) } while (p < s.getTime()); return d }, e.getSinceString = function (e, t) { if (e) { var a = new Date, n = Math.floor((a - e) / 1e3); if (n <= 0) return t ? t.justNow : "just now"; if (n < 60) { var o = Math.round(n); return o + (t ? t.seconds : "s") } if (n < 3600) { var o = Math.round(n / 60); return o + (t ? t.minutes : "m") } if (n < 86400) { var o = Math.round(n / 3600); return o + (t ? t.hours : "h") } var o = Math.round(n / 86400); return o + (t ? t.days : "d") } } }(PULSE.app.common, PULSE.app, moment), function (e, t, a) { "use strict"; t.getDefaultPlayerImg = function (e) { return t.getPlayerImg("Photo-Missing", e) }, t.setPlayerImageLoader = function (e, a, n, o) { var r, i = t.getPlayerImg(e, a, o), l = t.getDefaultPlayerImg(a); n.onerror = function () { n.getAttribute("data-error") || (n.setAttribute("data-error", !0), r = document.querySelector('[data-player="' + e + '"]').setAttribute("src", l)) }, n.setAttribute("src", i) }, t.getPlayerImg = function (t, a, n) { return e.environment.playerImagePath + a + "/" + t + ("." + (n || "png")) }, t.getDefaultTeamThumbnailUrl = function (e) { return e ? "/resources/ver/i/default-thumbnails/" + e + ".png" : "" }, t.getPhotosForContainer = function (e) { if (e) for (var n = e.getElementsByClassName("playerPhotoContainer"), o = n.length - 1; o > -1;) { var r = n[o].getAttribute("data-player"), i = n[o].getAttribute("data-size") || "140", l = n[o].getAttribute("data-extension"); t.setPlayerImageLoader(r, i, n[o], l), a.style.removeClass(n[o], "playerPhotoContainer"), o-- } } }(PULSE.app, PULSE.app.common, PULSE.core), function (e, t, a) { "use strict"; t.renderKickOffData = function (t, a) { if (t) { var n = a ? a : {}, o = n.className ? n.className : "renderKOContainer", r = n.format ? n.format : "HH:mm", i = t.getElementsByClassName(o); if (i && i.length > 0) for (var l = 0; l < i.length; l++) { var s = i[l].getAttribute("data-kickoff"); if (s) { var c = moment(parseInt(s)).locale(e.language).tz(moment.tz.guess()).format(r); i[l].innerHTML = c } } } }, t.orderKickOffs = function (t, a, n, o) { if (t && a && n) { for (var r = o ? o : {}, i = r.className ? r.className : "matchWeekMatchContainer", l = r.format ? r.format : "dddd D MMMM", s = t.getElementsByClassName(i), c = {}, d = [], p = 0; p < s.length; p++) { var u = s[p].getAttribute("data-kickoff"); if (u) { var m = moment(parseInt(u)).locale(e.language).tz(moment.tz.guess()).format(l); c[m] ? c[m].push(s[p]) : (d.push(m), c[m] = [s[p]]) } } for (var p = 0; p < d.length; p++)if (c && c[d[p]]) { var f = { date: d[p] }; a.innerHTML += Mustache.render(n, f); var g = a.getElementsByClassName(d[p] + "MatchContainer"); if (g && g.length > 0) for (var h = 0; h < c[d[p]].length; h++)g[0].appendChild(c[d[p]][h]) } } } }(PULSE.app, PULSE.app.common, PULSE.core), function (e, t) { "use strict"; e.getEventTypeClass = function (e) { switch (e.type) { case "PS": return "time-w"; case "PE": return "1" === e.phase ? "time-half-w" : "time-full-w" }switch (e.description) { case "Y": return "card-yellow"; case "R": return "card-red"; case "YR": return "card-yellow-red"; case "O": return "og-w"; case "G": case "P": return "ball-sm-w"; case "OFF": return "sub-off"; case "ON": return "sub-on"; case "sub": return "sub-w"; case "S": case "M": return "miss-p-w"; default: return "" } }, e.getEventAccessibleDescription = function (e) { switch (e.description) { case "Y": return t.lookup("label.yellowcard"); case "R": return t.lookup("label.redcard"); case "YR": return t.lookup("label.yellowcard.second"); case "O": return t.lookup("label.owngoal"); case "G": return t.lookup("label.goal"); case "P": return t.lookup("label.penaltyscored"); case "OFF": return t.lookup("label.substitution.off"); case "ON": return t.lookup("label.substitution.on"); case "sub": return t.lookup("label.substitution"); case "S": return t.lookup("label.penaltysaved"); case "M": return t.lookup("label.penaltymissed"); default: return "" } }, e.getEventLabel = function (e) { switch (e.type) { case "PS": return "1" === e.phase ? t.lookup("label.kickoff") : t.lookup("label.secondhalf"); case "PE": return "1" === e.phase ? t.lookup("label.halftime") : t.lookup("label.fulltime") }switch (e.description) { case "G": case "P": return t.lookup("label.goal"); case "O": return t.lookup("label.owngoal"); case "Y": return t.lookup("label.yellowcard"); case "R": case "YR": return t.lookup("label.redcard"); case "S": case "M": return t.lookup("label.penaltymissed"); case "sub": case "OFF": case "ON": return t.lookup("label.substitution"); default: return "" } }, e.getEventTime = function (e) { var t = Math.floor(e.clock.secs / 60); return "1" === e.phase && t > 45 ? t = "45 +" + (t - 45) : "2" === e.phase && t > 90 && (t = "90 +" + (t - 90)), t + "'" }, e.getPlayerForEvent = function (e, t) { for (var a = 0; a < e.length; a++) { var n = e[a]; if (n.lineup) for (var o = 0; o < n.lineup.length; o++)if (n.lineup[o].id == t) return n.lineup[o]; if (n.substitutes) for (var o = 0; o < n.substitutes.length; o++)if (n.substitutes[o].id == t) return n.substitutes[o] } }, e.getPlayerForType = function (a, n, o, r) { var i = n.clock.secs, l = e.getEventTime(n); return a[o] || (a[o] = {}), "Y" != n.description && ("P" === n.description ? l += " (" + t.lookup("label.penalty.short") + ")" : "O" === n.description && (l += " (" + t.lookup("label.owngoal.short") + ")"), a[o][r] || (a[o][r] = []), a[o][r].push({ label: l, val: i })), a }, e.getPlayerEvents = function (t) { var a = {}; return t && t.length > 0 && t.forEach(function (t) { if (void 0 != t.personId) { var n = "P" == t.description ? "G" : t.description; e.getPlayerForType(a, t, t.personId, n) } t.assistId && e.getPlayerForType(a, t, t.assistId, "AS") }), a }, e.getTeamEventsMap = function (t, a, n) { var o = { matchEvents: [[], []], assists: [[], []] }; return t && t.length > 0 && t.forEach(function (t) { if (void 0 != t.teamId && t.type && ("G" == t.description || "Y" == t.description || "YR" == t.description || "R" == t.description || "P" == t.description || "O" == t.description)) { var r = e.getEventTypeClass(t), i = t.description; if ("P" === i && (i = "G"), n && n[t.personId] && n[t.personId][i] && n[t.personId][i].length > 0 && n[t.personId][i][0].val == t.clock.secs && ("Y" !== i || !n[t.personId].YR)) { var l = 0; a[1].teamId === t.teamId && (l = 1); var s = e.getPlayerForEvent(a, t.personId); if (s) { "G" === i && n[t.personId][i].length > 1 && (r = "icn ball-2-sm-w"); var c = " " + n[t.personId][i].map(function (e) { return e.label }).join(",") + " "; o.matchEvents[l].push({ typeClass: r, playerName: s.name.display, playerUrl: e.generateContentUrl("player", s.id, s.name.display.replace(new RegExp(" ", "g"), "-")), eventTimes: c }) } } if (t.teamId && "G" == t.description && t.assistId && n && n[t.assistId] && n[t.assistId].AS && n[t.assistId].AS.length > 0 && n[t.assistId].AS[0].val == t.clock.secs) { var l = 0; a[1].teamId === t.teamId && (l = 1); var s = e.getPlayerForEvent(a, t.assistId); if (s) { var c = " " + n[t.assistId].AS.map(function (e) { return e.label }).join(",") + " "; o.assists[l].push({ playerName: s.name.display, playerUrl: e.generateContentUrl("player", s.id, s.name.display.replace(new RegExp(" ", "g"), "-")), eventTimes: c }) } } } }), o } }(PULSE.app.common, PULSE.I18N), function (e, t, a) { "use strict"; t.ModalsController = function () { var e = this; e.modals = [], e.instances = [] }, t.ModalsController.prototype.addModal = function (e) { var t = this; t.modals.indexOf(e.config.modalContentId) === -1 && (t.modals.push(e.config.modalContentId), t.instances.push(e)) }, t.ModalsController.prototype.closeAll = function () { var e = this; e.instances.forEach(function (e) { e.close() }) }, e.modalsController = new t.ModalsController }(PULSE.app, PULSE.app.common, PULSE.I18N), function (e, t) { t.refreshScripts = function (t) { var a = t.getElementsByTagName("script"), n = []; Array.prototype.map.call(a, function (e) { if (!e.getAttribute("data-script-created")) { var a = !0; if (n.length > 0 && n.forEach(function (t) { t === e.src && (a = !1) }), e.parentNode.removeChild(e), a) { var o = document.createElement("script"); o.setAttribute("data-script-created", !0), o.type = "text/javascript", o.src = e.src, n.push(e.src), t.appendChild(o) } } }), e.widgetDeps(t) } }(PULSE.app, PULSE.app.common), function (e) { "use strict"; e.getTableRowClass = function (e) { if (1 === e.position) return "tableDark"; if (e.annotations && e.annotations.length > 0) for (var t = 0; t < e.annotations.length; t++) { var a = e.annotations[t]; if (a.type && "Q" === a.type) return a.destination && "EU_EL" === a.destination ? "tableLight" : "tableMid"; if (a.type && "R" === a.type) return "tableMid" } return "" } }(PULSE.app.common), function (e, t) { e.templateTranslator = function () { return function (e, a) { return t.lookup(a(e)) } } }(PULSE.app.common, PULSE.I18N), function (e, t, a) { "use strict"; var n = function (e) { var t = []; for (var a in e) void 0 != e[a] && "" != e[a] && t.push(a + "=" + e[a]); return t }; t.createApiPath = function (t, n) { var o = a.object.objectByString(e.apiPath, t), r = []; for (var i in n) o.indexOf("{" + i + "}") > -1 ? o = o.replace("{" + i + "}", n[i]) : void 0 != n[i] && r.push(i + "=" + n[i]); var l = e.environment.api + "/football" + o; return r.length > 0 && (l += "?" + r.join("&")), l }, t.createContentPath = function (t, a, o, r) { var i = e.environment.api + "/content/" + e.account + "/" + t + "/" + (o ? o : e.defaultLanguage) + "/" + (r ? r : ""); if (a) { var l = n(a); l.length > 0 && (i += "?" + l.join("&")) } return i }, t.createLiveBlogPath = function (t, a, o, r) { var i = e.environment.api + "/liveblog/" + e.account + "/" + a + "/" + (t ? t : e.defaultLanguage); if ("undefined" == typeof r || isNaN(r) || (i += "/below/" + r), o) { var l = n(o); l.length > 0 && (i += "?" + l.join("&")) } return i }, t.createCanaryPathFromReference = function (t, a) { var n = e.environment.canary + "account/" + e.canaryAccount + "/contentref/" + t + ":" + a + "/posts"; return n }, t.createCanaryPathFromId = function (t) { var a = e.environment.canary + "stream/" + t + "/posts"; return a }, t.createSearchPath = function (t, a, o) { var r = e.environment.api + "/search/" + e.account + "/"; if (r += "?terms=" + t.join(","), a && a.length > 0 && (a.map(function (e) { e = e.toUpperCase() }), r += "&type=" + a.join(",")), o) { var i = n(o); i.length > 0 && (r += "&" + i.join("&")) } return r }, t.createPollQuestionUrl = function (t) { var a = e.environment.pollQuestions + "/" + t + "/poll.js"; return a }, t.createPollAnswerUrl = function (t, a) { var n = e.environment.pollAnswer + "?id=" + t + "&option=" + a + "&callback=JSON_CALLBACK"; return n }, t.generateContentUrl = function (t, a, n, o) { var r = "//" + e.environment.domain; switch (n && (n = n.replace(" ", "-")), t) { case "text": return r + "/news/" + a; case "player": return n = n || "player", r + "/players/" + a + "/" + n + "/overview"; case "club": case "team": return n = n || "club", r + "/clubs/" + a + "/" + n + "/overview"; case "stadium": return n = n || "club", r + "/clubs/" + a + "/" + n + "/stadium"; case "manager": return r + "/managers/" + a + "/" + n + "/overview"; case "referee": return r + "/referees/" + a + "/" + n + "/overview"; case "match": var i = ""; return n && (i = "/" + n), r + "/match/" + a + i; default: return r + "/" + t + "/" + a } }, t.getMatchCentreUrl = function (a, n) { if (n = n || a.gameweek.compSeason) { var i; if ("U21" === n.competition.level && e.statCompSeasons.U21.indexOf(n.id) > -1) return i = ["premier-league-2", o(n), r(a)].join("/").toLowerCase(), t.generateContentUrl("match", a.id, i); if ("U18" === n.competition.level && e.statCompSeasons.U18.indexOf(n.id) > -1) return i = ["u18-premier-league", o(n), r(a)].join("/").toLowerCase(), t.generateContentUrl("match", a.id, i); if ("U21" !== n.competition.level && "U18" !== n.competition.level) return t.generateContentUrl("match", a.id) } return "" }; var o = function (e) { var t = e.label.split(" "); return t[t.length - 1].replace("/", "-") }, r = function (e) { var t = ""; if (e.teams && 2 === e.teams.length) { var a = PULSE.I18N.lookup("label.team.tbc"); t += e.teams[0] && e.teams[0].team ? e.teams[0].team.shortName || e.teams[0].team.name : a, t += "-v-", t += e.teams[1] && e.teams[1].team ? e.teams[1].team.shortName || e.teams[1].team.name : a } return t.trim().split(" ").join("-") } }(PULSE.app, PULSE.app.common, PULSE.core), function (e) { "use strict"; e.getPhotoByVariant = function (e, t) { for (var a, n = 0; n < e.length; n++)if (e[n].tag.label === t) { a = e[n]; break } return a || null }, e.getVariantWithWidth = function (e, t) { for (var a = 1 / 0, n = !1, o = 0; o < e.length; o++) { var r = e[o], i = Math.abs(r.width - t); i < a && (a = i, n = o) } return e[n] }, e.getVariantBySize = function (t, a, n) { for (var o = -1, r = 0; r < t.length; r++) { var i = t[r]; i.width == a && i.height == n && (o = r) } return o ? t[o] : e.getVariantWithWidth(t, a) }, e.getArticleVariants = function (e) { var t = !!e.leadMedia && "leadMedia", a = !!e.thumbnail && "thumbnail", n = e[t || a].variants; return !!n && n }, e.getDurationString = function (e) { if (!e) return ""; var t = Math.floor(e / 60), a = e % 60, n = " min ", o = " sec", r = ""; return t && (r += t + n), a && (r += a + o), r } }(PULSE.app.common), function (e, t, a, n, o) { t.cookieNotice = function () { var n = this, r = a.localStorage.getStorage(e.cookiePrefix + "store-all-cookies", !0), i = a.url.getParam("webview"); if (!(r || i && "true" == i)) { var l = document.createElement("section"); a.style.addClass(l, "js-cookies-notice"), a.style.addClass(l, "cookies-notice"); var s = { headerText: o.lookup("label.cookieNotice.headerText"), description: o.lookup("label.cookieNotice.description"), findOutMore: o.lookup("label.cookieNotice.findOutMore"), policyLink: e.cookiePolicyLink, acceptText: o.lookup("label.acceptCookies") }; l.innerHTML = Mustache.render(e.templates.cookienotice, s), document.getElementsByTagName("body")[0].appendChild(l), n.acceptButton = document.getElementsByClassName("cookies-notice-accept"), n.acceptButton.length > 0 && ["keypress", "click"].forEach(function (a) { n.acceptButton[0].addEventListener(a, function (a) { 13 !== a.which && "click" !== a.type || (t.setCookie(e.cookiePrefix + "store-all-cookies", !0, 100, !0), document.getElementsByClassName("js-cookies-notice")[0].style.display = "none") }) }) } } }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N), function (e, t) { e.contentTracker = function (a) { var n = this; n.event = { contentType: a.getAttribute("data-tracker-type"), contentId: a.getAttribute("data-tracker-id"), action: a.getAttribute("data-tracker-action") }; var o = function () { var e = ""; return n.event.contentType || (e += "The html element must include a 'data-tracker-type'/n"), n.event.contentId || (e += "The html element must include a 'data-tracker-id'/n"), n.event.action || (e += "The html element must include a 'data-tracker-action'/n"), e }, r = o(); if (r.length > 0) return r; var i = { url: "https://jkulhg7io5.execute-api.us-east-1.amazonaws.com/dev/interactions", headers: [e.accountHeader], data: n.event, method: "POST", callback: n.eventSent, forceCallback: !0, target: this }; t.data.manager.add(i) }, e.contentTracker.prototype.eventSent = function (e, t) { }; var a = document.querySelectorAll("[data-tracker-action]"); for (x = 0; x < a.length; x++)new e.contentTracker(a[x]) }(PULSE.app, PULSE.core), function (e, t, a) { "use strict"; var n = "google-analytics", o = function () { var a = document.getElementById("js-cookies-notice"), o = t.localStorage.getStorage(e.cookiePrefix + "store-all-cookies", !0); if (a && !o) t.style.removeClass(a, "u-hide"); else if ("true" === o) { var r = e.environment.cdn + "widgets/", i = "production" === e.environment.label ? ".min.js" : ".js", l = e.cookiePrefix + n, s = document.createElement("script"); s.type = "text/javascript", s.src = r + l + i, document.body.appendChild(s) } }, r = function (t) { for (var a = 0; a < e.essentialCookies.length; a++)if (e.cookiePrefix + e.essentialCookies[a].name === t) return !0; return !1 }; a.setCookie = function (a, n, o, i, l) { var s = t.localStorage.getStorage(e.cookiePrefix + "store-all-cookies", !0); "true" === s ? t.localStorage.setStorage(a, n, o, i, l) : r(a) && t.localStorage.setStorage(a, n, o, i, l) }, a.updateCookieToggleButton = function () { var a = document.querySelector(".js-essential-cookie-toggle"); if (a) { var n = t.localStorage.getStorage(e.cookiePrefix + "store-all-cookies", !0); t.style.hasClass(a.parentElement, "is-active") && "false" === n ? t.style.removeClass(a.parentElement, "is-active") : "true" === n && t.style.addClass(a.parentElement, "is-active") } }, a.removeNonEssentialCookies = function () { for (var a = document.cookie.split(";"), n = [], o = 0; o < a.length; o++) { var i = a[o].split("="); n.push((i[0] + "").trim()) } for (var l = 0; l < n.length; l++)r(n[l]) || 0 !== n[l].indexOf(e.cookiePrefix) || t.localStorage.clearStorage(n[l], !0) }, o() }(PULSE.app, PULSE.core, PULSE.app.common), function (e, t) {
    var a = 13, n = function (e) {
        var a = this, n = a.element.getElementsByClassName("current"), o = a.element.getElementsByClassName("current"); t.style.toggleClass(a.element, "open"), "true" === o[0].getAttribute("aria-expanded") ? o[0].setAttribute("aria-expanded", "false") : o[0].setAttribute("aria-expanded", "true"), e.target && "LI" === e.target.nodeName && (n.length > 0 && a.updateCurrent && (n[0].innerHTML = e.target.getAttribute("data-label")), a.target && a.callback && a.callback.call(a.config.target, e.target));
    }, o = function (e) { var a = this, n = a.element.getElementsByClassName("current"), o = a.element.getElementsByClassName("current"); e.target == n[0] || e.target == a.element || t.dom.isDescendant(e.target, n[0]) || (t.style.removeClass(a.element, "open"), o[0].setAttribute("aria-expanded", "false")) }, r = function (e) { var t = e.element.getElementsByClassName("current"); e.element.getAttribute("data-listener") || (e.element.setAttribute("data-listener", !0), e.element.addEventListener("click", n.bind(e)), e.element.addEventListener("keyup", function (t) { var o = t.which || t.keyCode; o === a && n.call(e, t) }), t.length > 0 && (document.addEventListener("click", o.bind(e)), document.addEventListener("keyup", function (t) { var n = t.which || t.keyCode; n === a && o.call(e, t) }))) }; e.dropdown = function (e, a) { var n = this; n.config = a || {}, n.element = e, n.updateCurrent = n.config.updateCurrent, n.callback = n.config.callback, n.target = n.config.target, t.style.removeClass(n.element, "open"), r(n) }; for (var i = document.querySelectorAll('[data-widget="dropdown"]'), l = 0; l < i.length; l++)new e.dropdown(i[l], {})
}(PULSE.app.common, PULSE.core), function (e, t) { var a = function (e, t) { e && (e.innerHTML = t) }; e.countdown = function (e, t) { var a = this; a.element = e, a.config = t ? t : {}, a.time = a.element.getAttribute("data-time") ? a.element.getAttribute("data-time") : a.config.time, a.stopCallback = t.stopCallback, a.initCountdown() }, e.countdown.prototype.initCountdown = function () { var e = this; e.days = e.element.getElementsByClassName("daysSpan")[0], e.hours = e.element.getElementsByClassName("hoursSpan")[0], e.mins = e.element.getElementsByClassName("minsSpan")[0], e.secs = e.element.getElementsByClassName("secsSpan")[0], e.time && (e.liveRefresh = setInterval(function () { e.refreshTime() }, 1e3)) }, e.countdown.prototype.stopCountdown = function () { var e = this; e.stopCallback && "function" == typeof e.stopCallback && e.stopCallback(e), clearInterval(e.liveRefresh) }, e.countdown.prototype.refreshTime = function () { var e = this, t = (new Date).getTime(), n = e.time, o = n - t; if (o <= 0) a(e.days, "00"), a(e.hours, "00"), a(e.mins, "00"), a(e.secs, "00"), e.stopCountdown(); else { a(e.days, "30"), a(e.hours, "30"), a(e.mins, "30"), a(e.secs, "30"); var r = Math.floor(o / 1e3 / 86400); r < 10 ? a(e.days, "0" + r) : a(e.days, r); var i = 24 * parseInt(r, 10) * 60 * 60, l = Math.floor((o / 1e3 - i) / 3600); l < 10 ? a(e.hours, "0" + l) : a(e.hours, l); var s = 3600 * parseInt(l, 10), c = Math.floor((o / 1e3 - i - s) / 60); c < 10 ? a(e.mins, "0" + c) : a(e.mins, c); var d = 60 * parseInt(c, 10), p = Math.floor(o / 1e3 - i - d - s); p < 10 ? e.secs.innerHTML = "0" + p : a(e.secs, p) } } }(PULSE.app.common, PULSE.core), function (e, t, a) { t.fantasyAuthenticate = function () { var t = a.localStorage.getStorage(e.cookiePrefix + "profile", !0); t ? ('"' === t[0] && '"' === t[t.length - 1] && (t = t.substr(1, t.length - 2)), n(JSON.parse(window.atob(t)))) : n(null) }; var n = function (t) { var n = document.getElementsByClassName("fantasySignIn")[0], o = document.getElementsByClassName("fantasySignOut")[0], r = a.url.updateUrlStringParam(e.environment.fantasyUserApi + "/", "redirect_uri", e.environment.redirectUri); r = a.url.updateUrlStringParam(r, "app", e.environment.fantasyAppId); var i = e.environment.fantasyUserApi; n && n.href && (n.href = r, o.href = i, t ? (a.style.addClass(n, "hide"), a.style.removeClass(o, "hide"), o.getElementsByClassName("fantasyUsername")[0].innerHTML = t.u.fn) : (a.style.removeClass(n, "hide"), a.style.addClass(o, "hide"))) } }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N), function (e) { var t = "fixture", a = "multipleBroadcastersContainer", n = 13, o = function (e, t) { if (t.className.indexOf(e) > -1) return t; for (var a = t.parentNode; null !== a;) { var n = a.className ? a.className.split(" ") : []; if (n.length > 0 && n.indexOf(e) > -1) return a; a = a.parentNode } return null }; e.fixtureListener = function () { }, e.fixtureListener.prototype.redirectToMatchCenter = function (e) { var r = e.target, i = e.type, l = e.keyCode || e.charCode; if (e.stopPropagation(), "keypress" !== i || l === n) { var s = o(a, r); if (!s || r.className.indexOf("livestream") !== -1) { var c = o(t, r); if (c) { var d = c.getAttribute("data-href"); d && (window.location.href = d) } } } } }(PULSE.app.common), function (e, t, a) { var n = function (e) { var t = document.createElement("div"); a.style.addClass(t, "galleryWrapper"), e.gallery.list = document.createElement("ul"), a.style.addClass(e.gallery.list, "galleryList"), t.appendChild(e.gallery.list), ["prev", "current", "next"].forEach(function (t) { var n = document.createElement("li"); a.style.addClass(n, t); var o = document.createElement("img"); a.style.addClass(o, "galleryImageContainer"); var r = document.createElement("figcaption"); a.style.addClass(r, "galleryFigCaptionContainer"); var i = document.createElement("span"); a.style.addClass(i, "galleryCaptionTitle"); var l = document.createElement("span"); a.style.addClass(l, "galleryCaptionBody"), r.append(i), r.append(l), n.append(o), n.append(r), e.gallery.list.append(n) }), e.gallery.items && e.gallery.items.length > 1 && (e.gallery.prevButton = document.createElement("a"), e.gallery.prevButton.tabIndex = 0, e.gallery.prevButton.setAttribute("alt", "Previous slide"), a.style.addClass(e.gallery.prevButton, "galleryNavButton"), a.style.addClass(e.gallery.prevButton, "prev"), e.gallery.prevButton.addEventListener("click", function () { e.updateGallery(e, "prev") }), e.gallery.prevButton.addEventListener("keydown", function (t) { 13 === t.which && e.updateGallery(e, "prev") }), t.appendChild(e.gallery.prevButton), e.gallery.nextButton = document.createElement("a"), e.gallery.nextButton.tabIndex = 0, e.gallery.nextButton.setAttribute("alt", "Next slide"), a.style.addClass(e.gallery.nextButton, "galleryNavButton"), a.style.addClass(e.gallery.nextButton, "next"), e.gallery.nextButton.addEventListener("click", function () { e.updateGallery(e, "next") }), e.gallery.nextButton.addEventListener("keydown", function (t) { 13 === t.which && e.updateGallery(e, "next") }), t.appendChild(e.gallery.nextButton)), document.addEventListener("keydown", function (t) { e.gallery.isOpen && (39 === t.which && e.gallery.items && e.gallery.items.length > 1 ? e.updateGallery(e, "next") : 37 === t.which && e.gallery.items && e.gallery.items.length > 1 ? e.updateGallery(e, "prev") : 27 === t.which && e.modal.close()) }), e.modal.content.appendChild(t) }, o = function (e, t) { return e - 1 >= 0 ? e - 1 : t - 1 }, r = function (e, t) { return e + 1 < t ? e + 1 : 0 }, i = function (e, t) { if (e && t) { var a = !0; t.captionTitle && (e.childNodes[0].innerHTML = t.captionTitle, a = !1), t.captionBody && (e.childNodes[1].innerHTML = t.captionBody, a = !1), a ? e.style.display = "none" : e.style.display = "" } }, l = function (e, t, n) { return a.style.addClass(e, n), a.style.removeClass(e, t), a.style.addClass(e.childNodes[1].childNodes[0], n + "CaptionTitle"), a.style.removeClass(e.childNodes[1].childNodes[0], t + "CaptionTitle"), a.style.addClass(e.childNodes[1].childNodes[1], n + "CaptionBody"), a.style.removeClass(e.childNodes[1].childNodes[1], t + "CaptionBody"), e }; t.galleryModal = function (e) { var t = this; t.element = e, t.gallery = {}, t.initModal(t), n(t) }, t.galleryModal.prototype.initModal = function () { var t = this, n = t.element.getAttribute("data-id"), o = "galleryContentModal", r = "galleryWrapModal", i = "[data-ui-modal]"; n && (o += n, r += n, i = ".modalOpener" + n); var l = { parent: t.element, openCallback: function (e) { t.openGallery(e), a.style.addClass(document.body, "fixedBody") }, closeCallback: function (e) { t.closeGallery(e), a.style.removeClass(document.body, "fixedBody") }, modalContentId: o, modalWrapId: r, modalWrapClass: "plModal", modalContentWrapClass: "plModalContent", selector: i }; t.modal = new e.modal(l), t.modal.content = t.modal.config.modalContent.querySelector('[data-widget="gallery-modal"]'), t.modal.content.style.display = "", t.gallery.items = []; for (var s = 0; s < t.element.children.length; s++)t.gallery.items[s] = {}, t.gallery.items[s].src = t.element.children[s].getAttribute("data-ui-src", s), t.element.children[s].getElementsByClassName("captionTitle").length > 0 && (t.gallery.items[s].captionTitle = t.element.children[s].getElementsByClassName("captionTitle")[0].innerHTML), t.element.children[s].getElementsByClassName("captionBody").length > 0 && (t.gallery.items[s].captionBody = t.element.children[s].getElementsByClassName("captionBody")[0].innerHTML), t.element.children[s].setAttribute("data-index", s) }, t.galleryModal.prototype.openGallery = function (e) { var t = this; t.gallery.currentIndex = parseInt(e.config.current.activator.closest(".galleryItem").getAttribute("data-index")); var a = o(t.gallery.currentIndex, t.gallery.items.length), n = r(t.gallery.currentIndex, t.gallery.items.length); t.assignSectionByIndex("current", t.gallery.currentIndex), t.assignSectionByIndex("prev", a), t.assignSectionByIndex("next", n), t.gallery.sliding = !1, t.gallery.isOpen = !0 }, t.galleryModal.prototype.assignSectionByIndex = function (e, t) { var a = this, n = a.modal.content.querySelector("." + e), o = n.querySelector(".galleryImageContainer"), r = n.querySelector(".galleryFigCaptionContainer"); o.setAttribute("src", a.gallery.items[t].src), i(r, a.gallery.items[t]) }, t.galleryModal.prototype.closeGallery = function (e) { var t = this; t.gallery.isOpen = !1 }, t.galleryModal.prototype.updateGallery = function (e, t) { if (!e.gallery.sliding) { e.gallery.sliding = !0; var a = e.modal.content.querySelector(".prev"), n = e.modal.content.querySelector(".current"), i = e.modal.content.querySelector(".next"); if ("prev" === t) { e.gallery.currentIndex = o(e.gallery.currentIndex, e.gallery.items.length); var s = o(e.gallery.currentIndex, e.gallery.items.length); a = l(a, "prev", "current"), n = l(n, "current", "next"), i = l(i, "next", "prev"), e.assignSectionByIndex("prev", s), e.gallery.list.insertBefore(i, n), e.gallery.prev = i, e.gallery.current = a, e.gallery.next = n } else { e.gallery.currentIndex = r(e.gallery.currentIndex, e.gallery.items.length); var c = r(e.gallery.currentIndex, e.gallery.items.length); i = l(i, "next", "current"), n = l(n, "current", "prev"), a = l(a, "prev", "next"), e.assignSectionByIndex("next", c), e.gallery.list.appendChild(a), e.gallery.prev = n, e.gallery.current = i, e.gallery.next = a } setTimeout(function () { e.gallery.sliding = !1 }, 400) } } }(PULSE.ui, PULSE.app.common, PULSE.core), function (e, t) { "use strict"; e.Form = e.Form || {}; var a = function (e) { e.preventDefault() }; e.Form = function (e) { var a = this; if (e.api && e.callback && e.form) { var n, o = e.api, r = e.method || "GET", i = e.callback; return a.form = e.form, a.submitForm = function () { var e = { url: o, method: r, callback: i, data: {} }; n = a.form.elements; for (var l = n.length; l--;) { var s = n[l]; s.id && (e.data[s.id] = s.value) } t.data.manager.add(e), a.submitForm = function () { return !1 } }, a.preventSubmission(), a } return !1 }, e.Form.prototype.preventSubmission = function () { this.form.addEventListener("submit", a, !1) }, e.Form.prototype.allowSubmission = function () { this.form.removeEventListener("submit", a, !1) } }(PULSE.app.common, PULSE.core), function (e, t, a) { "use strict"; var n = { root: null, rootMargin: "0px", threshold: 0 }; a.LazyLoad = function (e) { var t = this; t.element = e, t.thumbs = [], t.range = 0, t.setObservableListener() }, a.LazyLoad.prototype.setObservableListener = function () { var e = this; e.observer = new IntersectionObserver(e.onActivate.bind(e), n), e.observer.observe(e.element) }, a.LazyLoad.prototype.loadThumb = function (e, a) { var n = this; e.setAttribute("src", e.getAttribute("data-src")), e.onload = function () { e.removeAttribute("data-src"), t.style.removeClass(a, "placeholder"), a.setAttribute("data-initialised", "true"), n.staggerThumbLoading() } }, a.LazyLoad.prototype.onActivate = function (e) { var t = this; Array.prototype.forEach.call(e, function (e) { e.isIntersecting && (t.thumbs = t.filterThumbs(e.target.querySelectorAll(".js-content-load")), t.thumbs.length > 0 && t.staggerThumbLoading()) }) }, a.LazyLoad.prototype.filterThumbs = function (e) { for (var t = [], a = 0; a < e.length; a++)"false" === e[a].getAttribute("data-initialised") && t.push(e[a]); return t }, a.LazyLoad.prototype.shuffleList = function (e) { for (var t = [], a = 0; a <= e.length - 1; a++)t.push(a); if (t.length) { for (var n = t.length - 1; n > 0; n--) { var o = Math.floor(Math.random() * (n + 1)), r = t[n]; t[n] = t[o], t[o] = r } return t } return !1 }, a.LazyLoad.prototype.staggerThumbLoading = function () { var e = this; if (e.thumbs.length > 0 && e.thumbs.length !== e.range) { var t = e.thumbs[e.range] ? e.thumbs[e.range] : ""; if (t) { var a = t.querySelector("img"); t && a && e.loadThumb(a, t), e.range++ , e.staggerThumbLoading() } } }; for (var o = document.querySelectorAll('[data-widget="lazy-load"]'), r = 0; r < o.length; r++)new a.LazyLoad(o[r], {}) }(PULSE.app, PULSE.core, PULSE.app.common), function (e) { "use strict"; var t = function (e, t) { var a = e.map(function (e) { return e.tvShows.map(function (e) { return { abbreviation: e.abbreviation, channel: e.channel, fixtureId: t, streamingURLs: e.streamingURLs } }) }); return a.filter(function (e) { return e.filter(function (e) { return e.streamingURLs && e.streamingURLs.length > 0 }).length > 0 }).reduce(function (e, t) { return e.concat(t) }, []) }, a = function (e) { var t = this; if (0 === t.streamingURLs.length) t.streamingURLs = e; else { var a = e.filter(function (e) { var a = e.fixtureId, r = n.call(t, a); return 0 === r.length || o.call(t, e.streamingURLs, r) !== !0 }); t.streamingURLs = t.streamingURLs.concat(a) } }, n = function (e) { var t = this; return t.streamingURLs.filter(function (t) { return t.fixtureId === e }).reduce(function (e, t) { var a = e.streamingURLs || []; return a.concat(t.streamingURLs) }, []) }, o = function (e, t) { return e.filter(function (e) { return t.indexOf(e) > -1 }).length > 0 }; e.liveStreaming = function (e) { var t = this; t.element = e, t.streamingURLs = [] }, e.liveStreaming.prototype.saveStreamingURLs = function (e, n) { var o = this; o.countryCode !== n && (o.countryCode = n, o.streamingURLs = []); for (var r = 0; r < e.length; r++) { var i = e[r].fixture.id, l = e[r].broadcasters, s = t(l, i); a.call(o, s) } }; var r = function (t) { var a = moment().locale(e.language), n = moment(t).locale(e.language), o = moment(n).subtract(2, "hours"), r = moment(n).add(4, "hours"); return moment(a).isBetween(o, r) }; e.liveStreaming.prototype.getFixturesStreamingURLs = function (e, t) { var a = this; return a.streamingURLs.filter(function (a) { return a.fixtureId === e && r(t) }) } }(PULSE.app), function (e) { e.local = {}; var t = document.querySelectorAll('[data-widget="local-club"]'); t = Array.prototype.map.call(t, function (t) { e.local.clubId = t.getAttribute("data-club-id") }) }(PULSE.app), function (e, t, a, n, o) { "use strict"; var r = function (e, t) { if (e && e.length > 0) for (var a = 0; a < e.length; a++)if (e[a].id == t) return e[a] }; t.pollMatches = function (e, t, a) { var n = this; n.element = e, n.config = a, n.matchClass = n.config && n.config.matchClass ? n.config.matchClass : "matchNavMatchContainer", n.requestConfig = t, n.matchNavMatchContainer = n.element.getElementsByClassName(n.matchClass), e && n.requestConfig && n.initData() }, t.pollMatches.prototype.initData = function () { var a = this, n = { url: t.createApiPath("fixtures.all", a.requestConfig), method: "GET", callback: a.renderMatches, target: this, interval: e.pollingCacheRate }; this.startData(n) }, t.pollMatches.prototype.renderMatches = function (e) { var t = this; t.hasLiveMatch = !1, e && e.content && Array.prototype.map.call(t.matchNavMatchContainer, function (a) { var n = a.getAttribute("data-id"), o = r(e.content, n); o && "U" != o.status ? t.renderMatch(a, o) : t.hasLiveMatch = !0 }), t.hasLiveMatch || t.stopFixtureFeed() }, t.pollMatches.prototype.renderMatch = function (e, a) { var r = this; if (a.status && "U" != a.status) { var i = e.getElementsByClassName("matchMinuteContainer"), l = e.getElementsByClassName("matchScoreContainer"); if (i && i.length > 0 && l && l.length > 0) { var s = void 0 != a.teams[0].score ? a.teams[0].score : "", c = void 0 != a.teams[1].score ? a.teams[1].score : "", d = [s, c]; if ("C" === a.status) e.className = r.matchClass + " matchAbridged fullTime", i[0].innerHTML = o.lookup("label.match.fulltime.short"); else if ("A" === a.status) { e.className = r.matchClass + " matchAbridged"; var p = o.lookup("label.match.abandoned.short"); i[0].innerHTML = "", d = [p, p] } else { r.hasLiveMatch = !0, e.className = r.matchClass + " matchAbridged live"; var u = ""; "H" === a.phase ? u = o.lookup("label.match.halftime.short") : a.clock && (u = t.getEventTime(a)), i[0].innerHTML = u } i[0].style.display = ""; var m = { scores: d }; l[0].innerHTML = Mustache.render(n.matchnavscore, m) } } }, t.pollMatches.prototype.stopFixtureFeed = function () { var e = this; e.dm.stop() }, t.pollMatches.prototype.startData = function (e) { var t = this; t.dm = a.data.manager.add(e) } }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N), function (e, t, a, n) { var o = function (e, t) { var o = e.config.placeholder ? e.config.placeholder : ""; e.element.innerHTML = Mustache.render(a.search, { term: t, placeholder: o, accessibleSearchPhrase: n.lookup("label.submitsearch") }), e.searchTextContainer = e.element.getElementsByClassName("searchTextContainer")[0], e.searchIconContainer = e.element.getElementsByClassName("searchIconContainer")[0], e.searchKeyPressContainer = [e.searchTextContainer, e.searchIconContainer] }, r = function (e) { var t = []; if (e && e.length > 0) for (var a = 0; a < e.length; a++) { var n = e[a].split(";"); if (3 === n.length) { var o = { width: parseInt(n[0]), height: parseInt(n[1]), url: n[2] }; t.push(o) } } return t }, i = function (e) { for (var t = 0; t < e.searchKeyPressContainer.length; t++)e.searchKeyPressContainer[t].addEventListener("keypress", function (t) { var a = t.keyCode || t.which; "13" == a && e.doSearch() }); e.searchIconContainer.addEventListener("click", function (t) { e.doSearch() }) }, l = function (e) { var t = {}; if (e.object_id && e.object_id.length > 0 && (t.id = parseInt(e.object_id[0])), e.type && e.type.length > 0) switch (e.object_id && e.object_id.length > 0 && (t.id = e.object_id[0]), e.type && e.type.length > 0 && (t.type = e.type[0].toLowerCase()), e.type[0]) { case "PLAYER": e.title && e.title.length > 0 && (t.name = { display: e.title[0] }), e.object_id && e.object_id.length > 0 && (t.personId = e.object_id[0]); break; case "TEAM": e.title && e.title.length > 0 && (t.name = e.title[0]); break; case "VIDEO": e.title && e.title.length > 0 && (t.title = e.title[0]), e.image_url && e.image_url.length > 0 && (t.thumbnailUrl = e.image_url[0]), e.duration && e.duration.length > 0 && (t.duration = e.duration[0]), e.description && e.description.length > 0 && (t.description = e.description[0]), e.timestamp && e.timestamp.length > 0 && (t.date = e.timestamp[0]); break; case "PHOTO": e.title && e.title.length > 0 && (t.title = e.title[0]), e.timestamp && e.timestamp.length > 0 && (t.date = e.timestamp[0]), e.image_url && e.image_url.length > 0 && (t.variants = r(e.image_url)); break; case "TEXT": e.title && e.title.length > 0 && (t.title = e.title[0]), e.timestamp && e.timestamp.length > 0 && (t.date = e.timestamp[0]), e.description && e.description.length > 0 && (t.description = e.description[0]), e.body && e.body.length > 0 && (t.body = e.body[0]), e.tags && e.tags.length > 0 && (t.tags = e.tags) }return t }; e.search = function (e, t) { var a = this; a.config = t || {}, a.element = e, o(a, ""), i(a) }, e.search.prototype.checkParam = function () { var e = this, a = t.url.getParameterByName("term"); a && (e.searchTextContainer.value = a, e.doSearch(a, !0)) }, e.search.prototype.doSearch = function (e, a) { var n = this, o = e || n.searchTextContainer.value; n.config.callback && n.config.target && n.config.callback.call(n.config.target, o, 0), n.config.updateUrl && !a && (n.url = t.url.updateUrlStringParam(window.location.href, "term", o), history.pushState({}, "", n.url)) }, e.search.prototype.getSearchTerm = function () { return _self.searchTextContainer.value }, e.search.prototype.getSearchParams = function (e) { var t = {}; return e && (void 0 != e.pageSize && void 0 != e.page && (t.size = e.pageSize, t.start = e.pageSize * e.page), e.fullObjectResponse && (t.fullObjectResponse = !0), e.sort && (t.sort = e.sort)), t }, e.search.prototype.hasTerm = function () { var e = _self.getSearchTerm(); return void 0 != e && "" != e }, e.search.prototype.evaluateHits = function (e) { var t = []; return e && e.hit && e.hit.length > 0 && e.hit.forEach(function (e) { e.fields ? t.push(l(e.fields)) : e.response && ("FOOTBALL_PERSON" === e.contentType && (e.response.type = "player"), t.push(e.response)) }), t } }(PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N), function (e, t) { e.slideShow = function (e) { var t = this; t.config = e, t.container = t.config.container, t.initSlider() }, e.slideShow.prototype.initSlider = function () { var e = this; e.slideContainer = e.config.scrollContainer, e.slideWidth = e.slideContainer.clientWidth, e.slideItems = e.config.sliderElements, e.slideNum = Math.ceil(e.slideItems.length / e.config.perPage), e.slidePos = 0, e.activeSlide = 0, e.nextBtn = e.config.nextButton, e.prevBtn = e.config.prevButton, e.pagerBtns = e.config.pagerElements, e.nextCallback = e.config.nextCallback, e.previousCallback = e.config.previousCallback, e.paginationCallback = e.config.paginationCallback, e.pagerItemsContainer = e.config.pagerItemsContainer, e.setListeners(), e.updateControls(), e.setActiveItems() }, e.slideShow.prototype.setListeners = function () { var e = this; e.nextBtn.addEventListener("click", function () { e.scrollNext() }), e.prevBtn.addEventListener("click", function () { e.scrollPrev() }); for (var a = 0; a < e.pagerBtns.length; a++)e.pagerBtns[a].addEventListener("click", e.slideTo.bind(e, a)); t.event.windowResize.add({ method: e.resetSlider.bind(e) }) }, e.slideShow.prototype.scrollNext = function () { var e = this; e.activeSlide++ , e.slidePos = e.slideWidth * e.activeSlide, e.slideContainer.style.left = "-" + e.slidePos + "px", e.updateControls(), e.setActiveItems(), e.nextCallback && e.nextCallback() }, e.slideShow.prototype.isPaginating = function () { var e = this; return !!e.pagerItemsContainer && e.pagerItemsContainer.offsetParent }, e.slideShow.prototype.scrollPrev = function () { var e = this; e.activeSlide-- , e.slidePos = e.slideWidth * e.activeSlide, e.slideContainer.style.left = "-" + e.slidePos + "px", e.updateControls(), e.setActiveItems(), e.previousCallback && e.previousCallback() }, e.slideShow.prototype.slideTo = function (e) { var t = this; t.slidePos = t.slideWidth * e, t.slideContainer.style.left = "-" + t.slidePos + "px"; var a = t.activeSlide < e; t.activeSlide = e, t.updateControls(), t.setActiveItems(), t.paginationCallback && t.paginationCallback(a) }, e.slideShow.prototype.updateControls = function () { var e = this; e.activeSlide >= e.slideNum - 1 ? t.style.addClass(e.nextBtn, "u-hide") : t.style.hasClass(e.nextBtn, "u-hide") && t.style.removeClass(e.nextBtn, "u-hide"), 0 === e.activeSlide ? t.style.addClass(e.prevBtn, "u-hide") : t.style.hasClass(e.prevBtn, "u-hide") && t.style.removeClass(e.prevBtn, "u-hide"); for (var a = 0; a < e.pagerBtns.length; a++)a == e.activeSlide ? t.style.addClass(e.pagerBtns[a], e.config.pagerActiveClass) : t.style.removeClass(e.pagerBtns[a], e.config.pagerActiveClass) }, e.slideShow.prototype.getActiveSlide = function () { var e = this; return e.activeSlide }, e.slideShow.prototype.setActiveItems = function () { for (var e = this, a = 0; a < e.slideItems.length; a++)t.style.removeClass(e.slideItems[a], "item-active"); var n = e.activeSlide * e.config.perPage; for (a = 0; a < e.config.perPage && e.slideItems[n]; a++)t.style.addClass(e.slideItems[n], "item-active"), n++ }, e.slideShow.prototype.resetSlider = function () { var e = this; e.slideWidth = e.slideContainer.clientWidth, e.slideTo(e.activeSlide) } }(PULSE.app.common, PULSE.core), function (e, t, a) { var n = function (e) { return e.wrap ? e.controls && e.controls.next && e.controls.previous ? (e.slideList || (e.slideList = e.wrap.querySelector(".js-slide-list")), e.slides || (e.slides = e.wrap.querySelectorAll(".js-slide")), e.slideRate || (e.slideRate = 50), e.thumbSlideRate || (e.thumbSlideRate = 10), e.interval || (e.interval = 5e3), e.auto || (e.auto = !1), e.startIndex || (e.startIndex = 0), e.hideClass || (e.hideClass = "is-hidden"), e.thumbsWrap && !e.thumbsType && (e.thumbsType = "image"), e.thumbClass || (e.thumbClass = "thumbnail"), e) : void console.warn("You must provide a both next and previous control elements in your slider config") : void console.warn("You must provide a wrap element in your slider config") }, o = function (e) { if (e.config.controls.previous.addEventListener("click", function (t) { t.preventDefault(), e.slidePrev() }), e.config.controls.next.addEventListener("click", function (t) { t.preventDefault(), e.slideNext() }), e.config.controls.expand) if (e.config.controls.expand.length > 1) for (var t = 0; t < e.config.controls.expand.length; t++)e.config.controls.expand[t].addEventListener("click", function (t) { t.preventDefault(), e.config.currentSlide = t.target.parentNode.parentNode, e.toggleExpand() }); else e.config.controls.expand.addEventListener("click", function (t) { t.preventDefault(), e.toggleExpand() }); e.config.controls.autoStart && e.config.controls.autoStop && (e.config.controls.autoStart.addEventListener("click", function (t) { t.preventDefault(), e.startAuto() }), e.config.controls.autoStop.addEventListener("click", function (t) { t.preventDefault(), e.stopAuto() })) }, r = function (e) { window.addEventListener("keydown", function (t) { "37" == t.keyCode && e.slidePrev(), "39" == t.keyCode && e.slideNext() }, !1) }, i = function (e) { var t = !1; e.config.viewport || (t = !0, e.config.viewport = document.createElement("div"), a.style.addClass(e.config.viewport, "slider-viewport")), e.config.viewportList = document.createElement("ul"), a.style.addClass(e.config.viewportList, "slider-viewport__list"), e.config.viewport.appendChild(e.config.viewportList), t && e.config.wrap.appendChild(e.config.viewport), l(e) }, l = function (e) { }, s = function (e) { var t, a = function () { clearTimeout(t), t = setTimeout(function () { e.updateViewport(e.config.currentSlide) }, 200) }; window.addEventListener("resize", a) }, c = function (e) { e.config.thumbnails = Array.prototype.map.call(e.config.slides, function (t, n) { t.indexVal = n; var o = document.createElement("li"); switch (a.style.addClass(o, e.config.thumbClass), e.config.thumbsType) { case "image": o.appendChild(t.querySelector("picture").cloneNode(!0)); break; case "index": o.innerHTML = n + 1 }return o.addEventListener("click", function () { e.slideToIndex(n) }), e.config.thumbsWrap.appendChild(o), o }) }, d = function (e) { e.config.thumbControls.left.addEventListener("click", function (t) { t.preventDefault(), e.slideThumbsLeft() }), e.config.thumbControls.right.addEventListener("click", function (t) { t.preventDefault(), e.slideThumbsRight() }) }; t.slider = function (e) { "use strict"; var t = this; t.config = n(e), a.style.addClass(t.config.slideList, t.config.hideClass), t.config.currentSlide = t.config.slides[t.config.startIndex], t.config.firstSlide = t.config.slides[0], t.config.lastSlide = t.config.slides[t.config.slides.length - 1], t.isViewportFullsize = !1, o(t), r(t), i(t), s(t), t.config.thumbsWrap && (c(t), t.config.thumbControls && d(t)), t.updateViewport(t.config.currentSlide), t.config.auto && t.startAuto() }, t.slider.prototype.slidePrev = function () { function e() { var o = t.config.viewport.scrollLeft - t.config.slideRate; o <= a ? (t.config.viewport.scrollLeft = a, cancelAnimationFrame(n), t.updateViewport(t.config.prevSlide)) : (t.config.viewport.scrollLeft = o, requestAnimationFrame(e)) } var t = this, a = 0, n = requestAnimationFrame(e) }, t.slider.prototype.slideNext = function () { function e() { var o = t.config.viewport.scrollLeft + t.config.slideRate; o >= a ? (t.config.viewport.scrollLeft = a, cancelAnimationFrame(n), t.updateViewport(t.config.nextSlide)) : (t.config.viewport.scrollLeft = o, requestAnimationFrame(e)) } var t = this, a = 2 * t.config.viewport.offsetWidth - 10, n = requestAnimationFrame(e) }, t.slider.prototype.slideToIndex = function (e) { var t = this; if (t.config.currentSlide.indexVal !== e) if (t.config.currentSlide.indexVal < e) { var a = t.config.currentSlide; a.forceNext = t.config.slides[e], t.updateViewport(a, "next") } else { var a = t.config.currentSlide; a.forcePrev = t.config.slides[e], t.updateViewport(a, "prev") } }, t.slider.prototype.startAuto = function () { var e = this; return e.autoPlaying ? "slider is already auto playing" : (e.autoPlaying = setInterval(function () { e.slideNext() }, e.config.interval), a.style.toggleClass(e.config.controls.autoStart, e.config.hideClass), a.style.toggleClass(e.config.controls.autoStop, e.config.hideClass), void 0) }, t.slider.prototype.stopAuto = function () { var e = this; return e.autoPlaying ? (clearInterval(e.autoPlaying), e.autoPlaying = !1, a.style.toggleClass(e.config.controls.autoStart, e.config.hideClass), a.style.toggleClass(e.config.controls.autoStop, e.config.hideClass), void 0) : "slider is not auto playing" }, t.slider.prototype.toggleExpand = function () { var e = this; e.isViewportFullsize = !e.isViewportFullsize, a.style.toggleClass(e.config.wrap, "expanded"), a.style.toggleClass(document.getElementsByTagName("body")[0], "u-body-no-scroll"), e.updateViewport(e.config.currentSlide) }, t.slider.prototype.updateViewport = function (e, t) { var n = this; n.config.currentSlide = e, e.forcePrev ? (n.config.prevSlide = e.forcePrev, e.forcePrev = !1) : (n.config.prevSlide = a.dom.getPreviousSiblings(n.config.currentSlide)[0], n.config.prevSlide || (n.config.prevSlide = n.config.lastSlide)), e.forceNext ? (n.config.nextSlide = e.forceNext, e.forceNext = !1) : (n.config.nextSlide = a.dom.getNextSiblings(n.config.currentSlide)[0], n.config.nextSlide || (n.config.nextSlide = n.config.firstSlide)), n.config.viewportList.innerHTML = "", n.config.viewportList.appendChild(n.config.prevSlide.cloneNode(!0)), n.config.viewportList.appendChild(n.config.currentSlide.cloneNode(!0)), n.config.viewportList.appendChild(n.config.nextSlide.cloneNode(!0)), n.config.viewport.scrollLeft = n.config.viewport.offsetWidth, "next" == t ? n.slideNext(!0) : "prev" == t && n.slidePrev(!0), n.config.thumbnails && n.setActiveThumb(n.config.currentSlide.indexVal) }, t.slider.prototype.setActiveThumb = function (e) { var t = this; Array.prototype.forEach.call(t.config.thumbnails, function (e) { a.style.removeClass(e, "is-active") }), a.style.addClass(t.config.thumbnails[e], "is-active") }, t.slider.prototype.slideThumbsRight = function (e) { function t() { var e = a.config.thumbsWrap.scrollLeft += a.config.thumbSlideRate; e > i ? (a.config.thumbsWrap.scrollLeft = i, cancelAnimationFrame(l)) : e >= o + r ? (a.config.thumbsWrap.scrollLeft = e, cancelAnimationFrame(l)) : (a.config.thumbsWrap.scrollLeft = e, requestAnimationFrame(t)) } var a = this, n = function () { var e = a.config.thumbnails[0].offsetWidth, t = parseInt(window.getComputedStyle(a.config.thumbnails[0]).getPropertyValue("margin-left")), n = parseInt(window.getComputedStyle(a.config.thumbnails[0]).getPropertyValue("margin-right")); return e + n + t }, o = a.config.thumbsWrap.scrollLeft, r = n(), i = a.config.thumbnails.length * r - a.config.thumbsWrap.offsetWidth; if (a.config.thumbsWrap.scrollLeft < i) var l = requestAnimationFrame(t) }, t.slider.prototype.slideThumbsLeft = function (e) { function t() { var e = a.config.thumbsWrap.scrollLeft -= a.config.thumbSlideRate; e < r ? (a.config.thumbsWrap.scrollLeft = r, cancelAnimationFrame(i)) : e <= n - o ? (a.config.thumbsWrap.scrollLeft = e, cancelAnimationFrame(i)) : (a.config.thumbsWrap.scrollLeft = e, requestAnimationFrame(t)) } var a = this, n = a.config.thumbsWrap.scrollLeft, o = a.config.thumbnails[0].offsetWidth, r = 0; if (a.config.thumbsWrap.scrollLeft > r) var i = requestAnimationFrame(t) } }(PULSE.app, PULSE.app.common, PULSE.core), function (e) { e.tabAwareWidgets = [], e.tabAwareWidget = function (t) { var a = this; a.widgetInit = t, a.tabbed = !1, a.initialised = !1, e.tabAwareWidgets.push(a); var n = "true" === a.widgetInit.widgetElement.getAttribute("data-tab-aware-default"), o = !(a.widgetInit.widgetElement.parentElement && a.widgetInit.widgetElement.parentElement.classList.contains("tabbedContent")); (n || o) && a.activate() }, e.tabAwareWidget.prototype.match = function (e) { var t = this; return t.widgetInit.widgetElement === e }, e.tabAwareWidget.prototype.activate = function () { var e = this; e.initialised || (e.initialised = !0, e.createWidget()) }, e.tabAwareWidget.prototype.createWidget = function () { var e = this; new e.widgetInit.widgetConstructor(e.widgetInit.widgetElement, e.widgetInit.widgetConfig) } }(PULSE.app), function (e, t) { "use strict"; t.brandBars = function (t) { var a = this; a.container = t, a.brandBarLeft = a.container.querySelector(".js-brand-bar-left"), a.brandBarRight = a.container.querySelector(".js-brand-bar-right"), e.style.addClass(a.brandBarLeft, "animate-in"), e.style.addClass(a.brandBarRight, "animate-in") } }(PULSE.core, PULSE.app.common), function (e, t) { var a = function () { var a = this, n = function () { o(), r() }, o = function () { var n = t.localStorage.getStorage(e.cookiePrefix + "profile", !0); if (n) { '"' === n[0] && '"' === n[n.length - 1] && (n = n.substr(1, n.length - 2)); var o = t.localStorage.getStorage("userData"); o && (a = JSON.parse(o)), a.plProfile = JSON.parse(window.atob(n)), a.loggedin = !0 } else a.loggedin = !1, a.plProfile = null, a.club = null, l() }, r = function () { if (a.loggedin && (!a.club || !a.club.opta || a.club.opta !== a.plProfile.u.fc)) { a.club = { opta: a.plProfile.u.fc }; var n = { url: e.environment.api + "/football/teams/t" + a.club.opta + "?sys=opta", method: "GET", callback: i, forceCallback: !0, target: a }; t.data.manager.add(n) } }, i = function (e) { e && e.club && (a.club.id = e.club.id, a.club.abbr = e.club.abbr, a.club.name = e.club.name, a.club.shortName = e.club.shortName, a.club.grounds = e.grounds, l()) }, l = function () { t.localStorage.setStorage("userData", JSON.stringify(a)) }; return n(), a }; e.UserData = new a }(PULSE.app, PULSE.core), function (e) { e.scrollElementAnimated = function (e, t, a, n, o) { function r() { var e = l.scrollTop, t = e - n; t <= s ? l.scrollTop = s : l.scrollTop = t, e <= s || 0 === l.scrollTop ? cancelAnimationFrame(c) : requestAnimationFrame(r) } function i() { var e = l.scrollTop, t = e + n; t >= s ? l.scrollTop = s : l.scrollTop = t; var a = l.scrollTop + l.offsetHeight === l.scrollHeight; e >= s || a ? (cancelAnimationFrame(c), "function" == typeof o && o()) : requestAnimationFrame(i) } var l = document.querySelector(e), s = t.offsetTop; isNaN(a) || (s += a), isNaN(n) && (n = 100); var c, d = s < l.scrollTop; c = d ? requestAnimationFrame(r) : requestAnimationFrame(i) } }(PULSE.app.common), function (e, t, a, n) {
a.videoList = function (e) { var t = this; t.element = e, t.initModal() }, a.videoList.prototype.initModal = function () {
    var a = this, o = {
        parent: a.element, selector: "[data-ui-modal]", openClass: "open", modalContentId: "videoPlayerContentModal",
        modalWrapId: "videoPlayerWrapModal", closeText: "close", openCallback: function (e) { a.updatePlayer(e), n.style.addClass(document.body, "fixedBody") }, closeCallback: function (e) { a.stopPlayer(e), n.style.removeClass(document.body, "fixedBody") }, modalWrapClass: "plModal", modalContentWrapClass: "plModalContent"
    }; a.modal = new t.modal(o), e.modalsController.addModal(a.modal)
}, a.videoList.prototype.updatePlayer = function (o) { var r = this, i = o.config.modal.querySelector("[data-player]"), l = i.getAttribute("id"); r.player = e.videoPlayerManager.getPlayerWithName(l); var s = o.config.current.uiArgs.mediaId, c = o.config.current.uiArgs.contentId, d = function () { if (r.videoLoader && r.videoLoader.element && r.videoLoader.removeLoader(), s) r.playVideo({ mediaId: s }); else { var e = { url: a.createContentPath("video", {}, void 0, c), method: "GET", callback: r.playVideo, target: r }; n.data.manager.add(e) } r.player.setMeta({ title: o.config.current.uiArgs.mediaTitle, description: o.config.current.uiArgs.mediaDescription, date: o.config.current.uiArgs.mediaDate, contentId: o.config.current.uiArgs.contentId, hotlinkUrl: o.config.current.uiArgs.mediaHotlinkUrl, hotlinkText: o.config.current.uiArgs.mediaHotlinkText }) }; if (r.player) d(); else { document.createElement("div"); r.videoLoader = new t.loader(o.config.modal, { init: !0, loaderTemplate: e.templates.loader, append: !0 }), window.addEventListener("videoReady" + l, function () { r.player = e.videoPlayerManager.getPlayerWithName(l), d() }, !1) } }, a.videoList.prototype.playVideo = function (e) { var t = this, a = t.modal.config.modalContentWrapClass || "", n = document.getElementsByClassName(a); t.player.playVideoWithID(e.mediaId), n.length > 0 && n[0].addEventListener("click", function (e) { e.target.className === a && t.modal.close() }) }, a.videoList.prototype.stopPlayer = function (t) { var a = t.config.modal.querySelector("[data-player]").getAttribute("id"), n = e.videoPlayerManager.getPlayerWithName(a); n && n.stopVideo() }
}(PULSE.app, PULSE.ui, PULSE.app.common, PULSE.core), function (e, t, a, n) { var o = function (e, t, a) { return a = a || {}, a.pageSize || (a.pageSize = 100), a.fixtureIds || (a.fixtureIds = e), a.comps || (a.comps = t), a }, r = function (e, t) { if (e && e.length > 0) for (var a = 0; a < e.length; a++)if (e[a].fixture && e[a].fixture.id && e[a].fixture.id == t) return e[a] }; e.getBroadcasters = function (e, t, a) { var n = this; n.element = e, n.config = t ? t : {}; var o = t.containerClass ? t.containerClass : "mcNavBroadcasterContainer"; n.template = t.template ? t.template : "commonmatchbroadcaster", n.matchBroadcasterContainer = n.element.getElementsByClassName(o); for (var r = [], i = 1, l = 0; l < n.matchBroadcasterContainer.length; l++) { var s = n.matchBroadcasterContainer[l].getAttribute("data-id"); s && r.indexOf(s) === -1 && r.push(s), n.matchBroadcasterContainer[l].getAttribute("data-comp") && (i = n.matchBroadcasterContainer[l].getAttribute("data-comp")) } r.length > 0 && n.initBroadcastData(r, i, a) }, e.getBroadcasters.prototype.initBroadcastData = function (e, n, r) { var i = this, l = o(e, n, r), s = { url: t.common.createApiPath("broadcasting-schedule.all", l), method: "GET", callback: i.renderBroadcastingSchedule, target: this }; a.data.manager.add(s) }, e.getBroadcasters.prototype.renderBroadcastingSchedule = function (e, a) { var o = this; if (e && e.content && e.content.length > 0 && o.matchBroadcasterContainer) for (var i = 0; i < o.matchBroadcasterContainer.length; i++) { var l = r(e.content, o.matchBroadcasterContainer[i].getAttribute("data-id")); if (l && l.broadcasters && l.broadcasters.length > 0) { var s = l.broadcasters[0]; l.broadcasters.length > 1 && (s.multipleLabel = n.lookup("label.multiplebroadcasters")), o.matchBroadcasterContainer[i].innerHTML = Mustache.render(t.templates[o.template], s) } } } }(PULSE.app.common, PULSE.app, PULSE.core, PULSE.I18N), function (e, t, a) { var n = 13, o = 27, r = function (e) { var t = this, o = e.type, r = e.keyCode || e.charCode; "keypress" === o && r !== n || (t.update(), a.style.addClass(t.broadcastModal[0], "open")) }, i = function (e) { var t = this, n = e.type, r = e.keyCode || e.charCode; ("keypress" !== n && "keyup" !== n || r === o) && l.call(t) && a.style.removeClass(t.broadcastModal[0], "open") }, l = function () { var e = this; return e.broadcastModal[0].className.indexOf("open") > -1 }; e.multipleBroadcastersModal = function (e, t, a) { var n = this; n.liveStreams = t || [], n.broadcastData = e, n.broadcastModal = document.getElementsByClassName("plBroadcastModal"), n.broadcastModalClose = document.getElementsByClassName("broadcastModalCloseButton"), n.jsButtonClass = "js-multipleBroadcasters", "undefined" != typeof a && (n.jsButtonClass += "-" + a) }, e.multipleBroadcastersModal.prototype.init = function () { var e = this; e.modalOpener = document.getElementsByClassName(e.jsButtonClass), 0 !== e.broadcastModal.length && 0 !== e.broadcastModalClose.length && 0 !== e.modalOpener.length && (e.broadcastModalClose[0].addEventListener("click", i.bind(e)), e.broadcastModalClose[0].addEventListener("keypress", i.bind(e)), e.broadcastModal[0].addEventListener("keyup", i.bind(e)), e.modalOpener[0].addEventListener("click", r.bind(e)), e.modalOpener[0].addEventListener("keypress", r.bind(e)), document.body.insertBefore(e.broadcastModal[0], document.body.firstChild)) }, e.multipleBroadcastersModal.prototype.getLiveStreamData = function (e) { var a = this, n = e.tvShows[0].streamingURLs; 0 === a.liveStreams.length && (n = []); var o = n && n.length > 0; return { hasLiveStream: o, liveStreamLabel: t.lookup("label.livestream"), liveStreamURL: o ? n[0] : null } }, e.multipleBroadcastersModal.prototype.updateModel = function () { var e = this; return e.broadcastData.map(function (t) { var a = t.name.split("-"); return a = a.length > 1 ? a[1].trim() : a[0].trim(), t.name = a, t.liveStreaming = e.getLiveStreamData(t), t }) }, e.multipleBroadcastersModal.prototype.update = function () { var a = this, n = t.lookup("label.visitsite"), o = a.broadcastModal[0].getElementsByClassName("allBroadcastersModalContainer"); if (0 !== o.length && a.broadcastData && 0 !== a.broadcastData.length) { var r = a.updateModel(); o[0].innerHTML = Mustache.render(e.templates.matchmodalbroadcasters, { broadcasters: r, visitSiteLabel: n }) } } }(PULSE.app, PULSE.I18N, PULSE.core), function (e, t, a) { var n = "twitter", o = "facebook", r = "whatsapp", i = "googleplus", l = "email", s = { twitter: { shareUrl: "http://www.twitter.com/intent/tweet?text=" }, facebook: { shareUrl: "http://www.facebook.com/sharer/sharer.php?u=" }, googleplus: { shareUrl: "http://plus.google.com/share?url=" }, whatsapp: { shareUrl: "whatsapp://send?text=" }, email: { shareUrl: "mailto:?body=" } }, c = { width: "500", height: "500", menubar: 0, location: 1, resizable: 0, scrollbars: 0, status: 0, titlebar: 0, toolbar: 0 }, d = function (e) { this.name = e }; d.prototype.buildShareUrl = function (e, t) { var r = this.name, l = e || window.location.href, c = l; return r === o || r === i ? s[r].shareUrl + encodeURIComponent(c) : (t && (c = t, c += r === n ? " " + a.lookup("label.via") + " @premierleague " + l : " " + l), s[r].shareUrl + encodeURIComponent(c)) }, d.prototype.makeWindowConfigurationString = function (e) { for (var t = e || c, a = Object.keys(t), n = "", o = 0; o < a.length; o++)n += a[o] + "=" + t[a[o]], o < a.length - 1 && (n += ","); return n }, d.prototype.sharePage = function (e, t, a) { var n = this.buildShareUrl(e, a), o = this.makeWindowConfigurationString(t); window.open(n, "_blank", o) }, e.socialHelpers = { twitter: new d(n), facebook: new d(o), google: new d(i), email: new d(l), whatsapp: new d(r) } }(PULSE.app, PULSE.app.common, PULSE.I18N); var Mustache = function (e) { var t = e.render, a = "External Link"; return e.render = function (e, n, o) { return n.externalLinkText = a, t(e, n, o) }, e }(Mustache); !function (e) { e.filterDropdownDelegate = function () { }, e.filterDropdownDelegate.prototype.didUpdate = function (e) { }, e.filterDropdownDelegate.prototype.didFinishUpdate = function (e) { }, e.filterDropdownDelegate.prototype.didClear = function (e) { }, e.filterDropdownDelegate.prototype.didOpen = function (e) { }, e.filterDropdownDelegate.prototype.didClose = function (e) { } }(PULSE.app.common), function (e) { e.filterControllerDelegate = function () { }, e.filterControllerDelegate.prototype.filterCleared = function () { }, e.filterControllerDelegate.prototype.filterUpdated = function (e) { } }(PULSE.app.common), function (e, t, a, n, o) { var r = 0, i = 90, l = function (e) { if (e.initialisedOptions = !1, e.config.urlParameter) { var t = n.url.getParam(e.config.urlParameter); t && (e.autoInitStateId = t) } e.defaultOptionId && !e.autoInitStateId && (e.autoInitStateId = e.defaultOptionId), e.config.data && (!e.config.dependencies || e.config.dependencies.length < 1) && e.renderOptions(), !e.config.dataUrl || e.config.dependencies && 0 !== e.config.dependencies.length || e.config.dataDependency || (e.setLoading(), e.subscriber.url = e.config.dataUrl, n.data.manager.add(e.subscriber)) }, s = function (e, t) { var r = void 0; t.label && (t.label = o.lookup("label." + t.label)), t.defaultOption && (t.defaultOption = o.lookup("label." + t.defaultOption)), t.data && t.data.length > 0 && t.data.map(function (e) { e.optionLabel && (e.optionName = o.lookup("label." + e.optionLabel)) }), n.dom.appendDomString(e.container, Mustache.render(a.listfilter, { dropdown: t, defaultItem: r, visibleOnMobile: e.config.visibleMobile || !1, getIndex: function () { function e() { return t++ } var t = 0; return function () { return function (t, a) { return e() } } }() })), e.element = e.container.querySelector('[data-dropdown-block="' + e.config.name + '"]'), e.current = e.container.querySelector('[data-dropdown-current="' + e.config.name + '"]'), e.list = e.container.querySelector('[data-dropdown-list="' + e.config.name + '"]'), e.defaultOptionId && !e.autoInitStateId && (e.autoInitStateId = e.defaultOptionId) }, c = function (e) { for (var t = 0; t < e.length; t++)n.style.removeClass(e[t], "highlight") }, p = function (e, t) { n.style.addClass(e, "highlight"), e.addEventListener("mouseout", function (t) { n.style.removeClass(e, "highlight") }), t.addEventListener("mouseover", function (t) { t.target.getAttribute("data-option-name") !== e.getAttribute("data-option-name") && n.style.removeClass(e, "highlight") }) }, u = function (e, a) { var n = a.getAttribute("data-dropdown-list"); t.scrollElementAnimated('[data-dropdown-list="' + n + '"]', e, r, i), p(e, a) }, m = function (e, t) { for (var a, n = e.children, o = 0; o < n.length; o++) { var r = n[o].getAttribute("data-option-name"); if (r.charAt(0).toLowerCase() === t.toLowerCase()) { a = n[o]; break } } return a }, f = function (e) { var t = this; if ("keypress" === e.type && (e.code.indexOf("Key") > -1 && e.key || e.code.indexOf("Digit") > -1)) { var a = t.querySelector("[data-dropdown-list]"), n = m(a, e.key); c(a.children), n && u(n, a) } }, g = function (e) { ["keypress", "click"].forEach(function (t) { var a = e.element.querySelector("[data-dropdown-current]"), n = f.bind(e.element), o = e.element.querySelector("[data-dropdown-list]"); a && !a.getAttribute("data-listen-" + t) && (a.addEventListener(t, function (t) { if (13 === t.which || "click" === t.type) { e.showHide(); var r = a.getAttribute("aria-expanded"); "true" === r ? (a.blur(), document.addEventListener("keypress", n)) : (c(o.children), document.removeEventListener("keypress", n)) } }), a.setAttribute("data-listen-" + t, !0)), o && !o.getAttribute("data-listen-" + t) && (o.addEventListener(t, function (t) { if (13 === t.which || "click" === t.type) { var a = t.target; a.getAttribute("data-option-name") && a.getAttribute("data-option-id") && a.getAttribute("data-option-index") && (e.state.setState(!1, a.getAttribute("data-option-name"), a.getAttribute("data-option-id"), !1, a.getAttribute("data-option-index")), e.setOption(e.state.name), e.delegate.didFinishUpdate(!0), e.showHide()) } }), o.setAttribute("data-listen-" + t, !0)) }) }, h = function (t) { for (var a = t.config.dataUrl || !1, n = 0, o = 0; o < t.config.dependencies.length; o++)if (a) { var r = t.config.dependencies[o]; if (n = t.config.depMethods && t.config.depMethods[o]["default"] && t.dependencyMap[r].id == -1 ? t.config.depMethods[o]["default"] : t.dependencyMap[r].id, n == -1) return t.list.innerHTML = "", !1; a = a.replace("{{" + r + "}}", n) } if (t.config.depMethods) for (var i = 0; i < t.config.depMethods.length; i++) { var l = t.config.depMethods[i]; l.method && (a = a.replace("{{" + l.label + "}}", e.filterData[l.method](n))) } return a }; t.dropDownItem = function (a, n, o) { var r = this; if (r.container = a, r.delegate = n, r.config = o, r.element = !1, r.current = !1, r.openClass = "open", r.state = new t.dropDownItemState, r.dependencyMap = !1, r.currentListData = !1, r.subscriber = { target: r, headers: [e.accountHeader], method: "GET", callback: r.renderOptions, constant: !0, forceCallback: !0 }, r.autoInitStateId = void 0, r.defaultOptionId = o.defaultOptionId || !1, r.config.dependencies && r.config.dependencies.length > 0) { r.dependencyMap = {}; for (var i = 0; i < r.config.dependencies.length; i++)r.dependencyMap[r.config.dependencies[i]] = new t.dropDownItemState } r.config && r.config.name && s(r, r.config) }, t.dropDownItem.prototype.init = function () { var e = this; l(e) }, t.dropDownItem.prototype.updateOptionsFromDependencies = function (e, t) { var a = this; if (a.displayDefaultOption(!1, !1, !0), a.setInactive(), a.delegate && a.delegate.dropdownRendered(a.config.index), !a.isloading) { if (a.dependencyMap[e] && (a.dependencyMap[e] = t), a.config.dependancyCheck && "function" == typeof a.config.dependancyCheck) { var o = a.config.dependancyCheck(a.dependencyMap); if (!o) return } if (a.config.dataDependency && e === a.config.dataDependency && t.list) return t.index != -1 ? (a.renderOptions(t.list[t.index]), a.setActive()) : (a.state.list = [], a.setInactive(), a.displayDefaultOption(!1, !1, !0)), a.autoInitStateId && !a.defaultItem || a.displayDefaultOption(), void (a.autoInitStateId = void 0); a.subscriber.url = h(a), a.subscriber.url && (a.setLoading(), n.data.manager.add(a.subscriber)), a.config.data && a.renderOptions(void 0, void 0, !0) } }, t.dropDownItem.prototype.getAutoOptionIndex = function () { var e = this; if (e.autoInitStateId && e.options && e.options.length > 0) for (var t = 0; t < e.options.length; t++)if (e.options[t].optionId == e.autoInitStateId) return t; return -1 }, t.dropDownItem.prototype.displayDefaultOption = function (e, t, a) { var o = this, r = o.getAutoOptionIndex(); if (r > -1 && o.options[r] && t) { var i = o.options[r]; o.state.setState(!1, i.optionName, i.optionId, !1, r), o.setOption(i.optionName) } else if (!o.config.defaultOption || "-1" !== o.autoInitStateId && !a && (void 0 != o.config.defaultIndex || o.defaultOptionId && o.defaultOptionId != -1 && 0 !== o.state.list.length)) { if (o.defaultOptionId && o.defaultItem) { for (var l = !1, s = 0; s < o.state.list.length; s++)n.object.getNestedItemFromPath(o.config.dataIdPath, o.state.list[s]) == o.defaultItem.optionId && (l = !0); l ? o.state.setState(!1, o.defaultItem.optionName, o.defaultItem.optionId, !1, o.defaultItemIndex) : o.state.setState(!1, n.object.getNestedItemFromPath(o.config.dataNamePath, o.state.list[0]), n.object.getNestedItemFromPath(o.config.dataIdPath, o.state.list[0]), !1, 0), o.setOption(o.state.name) } else if (o.state.list && o.state.list.length > 0) { var c = o.config.defaultIndex || 0; c > o.state.list.length && (c = o.state.list.length - 1), c < 0 && (c = 0), o.state.setState(!1, n.object.getNestedItemFromPath(o.config.dataNamePath, o.state.list[c]), n.object.getNestedItemFromPath(o.config.dataIdPath, o.state.list[c]), !1, c), o.setOption(o.state.name) } } else o.state.setState(!1, o.config.defaultOption, -1, !1, -1), o.setOption(o.config.defaultOption); o.hide() }, t.dropDownItem.prototype.setOption = function (e) { var t = this; t.current.textContent = e, t.checkActive(), t.delegate.didUpdate(t) }, t.dropDownItem.prototype.checkActive = function () { var e = this; e.state.index != -1 ? n.style.addClass(e.element, "active") : n.style.removeClass(e.element, "active") }, t.dropDownItem.prototype.restoreOptions = function (e) { var a = this; a.initialisedOptions = !1, a.state = e; var o = Object.keys(e); for (a.state = new t.dropDownItemState, d = 0; d < o.length; d++)a.state[o[d]] = e[o[d]]; if (a.config.urlParameter) { var r = n.url.getParam(a.config.urlParameter); r && (a.autoInitStateId = r) } a.checkActive(), a.renderOptions(!1, !1, !0) }, t.dropDownItem.prototype.renderOptions = function (e, t, o) { var r = this; !r.initialisedOptions && r.config.data && (e = r.config.data), o || (r.state.list = n.object.getNestedItemFromPath(r.config.dataListPath, e)), r.config.listTransform && "function" == typeof r.config.listTransform && (r.state.list = r.config.listTransform(r.state.list, r.element, r)), !r.state.list && e && (r.state.list = e), r.options = []; for (var i = 0; i < r.state.list.length; i++)r.state.list[i].hasOwnProperty("gameweek") && "U" === r.state.list[i].status || (r.options.push({ optionName: n.object.getNestedItemFromPath(r.config.dataNamePath, r.state.list[i]), optionId: n.object.getNestedItemFromPath(r.config.dataIdPath, r.state.list[i]) }), r.autoInitStateId && !r.initialisedOptions && r.options[i].optionId == r.autoInitStateId && (r.defaultItem = r.options[i], r.defaultItemIndex = i, r.state.setState(!1, r.defaultItem.optionName, r.defaultItem.optionId, !1, i), r.setOption(r.state.name))); r.config.hasOwnProperty("displayDefaultOption") || r.config.displayDefaultOption || r.displayDefaultOption(!1, !0), r.list.innerHTML = Mustache.render(a.listfilteroption, { config: r.config, optionData: r.options, getIndex: function () { function e() { return t++ } var t = 0; return function () { return function (t, a) { return e() } } }() }), o && (r.autoInitStateId = void 0), r.setActive(), r.isloading && r.stopLoading(), r.initialisedOptions = !0, r.delegate && r.delegate.dropdownRendered(r.config.index), g(r) }, t.dropDownItem.prototype.setLoading = function () { var e = this; e.isloading = !0, e.loaderElement || (e.loaderElement = document.createElement("div"), e.loaderElement && (e.loaderElement.innerHTML = a.loader, e.loaderElement = e.loaderElement.children[0])), e.element.insertBefore(e.loaderElement, e.element.firstChild) }, t.dropDownItem.prototype.stopLoading = function () { var e = this; e.isloading = !1, e.loaderElement && (e.element.removeChild(e.loaderElement), e.loaderElement = void 0) }, t.dropDownItem.prototype.setActive = function () { var e = this; e.element.classList.remove("inactive"), e.list.removeAttribute("aria-disabled"), e.current.removeAttribute("aria-disabled"), e.current.setAttribute("tabindex", "0") }, t.dropDownItem.prototype.setInactive = function () { var e = this; e.element.classList.add("inactive"), e.list.setAttribute("aria-disabled", "true"), e.current.setAttribute("aria-disabled", "true"), e.current.setAttribute("tabindex", "-1") }, t.dropDownItem.prototype.openDropdown = function (e) { var t = this; n.style.addClass(e, t.openClass), n.event.listenForOutsideClick.addElement(e, t.closeDropdown.bind(t), e) }, t.dropDownItem.prototype.closeDropdown = function (e) { var t = this; n.style.removeClass(e, t.openClass), n.event.listenForOutsideClick.removeElement(e, t.closeDropdown) }, t.dropDownItem.prototype.showHide = function () { for (var e = this, t = e.element.getElementsByClassName("current"), a = e.container.getElementsByClassName("dropDown"), o = 0; o < a.length; o++)a[o] != e.element && (a[o].classList.remove("open"), a[o].getElementsByClassName("current")[0].setAttribute("aria-expanded", "false")); if (e.list.children.length > 0 && e.isActive()) { if (e.list.children[0].focus(), n.style.hasClass(e.element, e.openClass) ? e.closeDropdown(e.element) : e.openDropdown(e.element), e.state.open = e.element.classList.contains(e.openClass), "true" === t[0].getAttribute("aria-expanded") ? t[0].setAttribute("aria-expanded", "false") : t[0].setAttribute("aria-expanded", "true"), e.state.open) return void e.delegate.didOpen(e); e.delegate.didClose(e) } }, t.dropDownItem.prototype.isActive = function () { var e = this; return !e.element.classList.contains("inactive") }, t.dropDownItem.prototype.hide = function () { var e = this; e.element.classList.remove(e.openClass), e.state.open = !1, e.delegate.didClose(e) } }(PULSE.app, PULSE.app.common, PULSE.app.templates, PULSE.core, PULSE.I18N), function (e) { e.dropDownItemState = function (e, t, a, n, o) { this.open = e || !1, this.name = t || !1, this.id = a || -1, this.list = n || !1, this.index = o || -1 }, e.dropDownItemState.prototype.setState = function (e, t, a, n, o) { this.open = e, this.name = t, this.id = a ? a : this.id, this.list = n ? n : this.list, this.index = "number" == typeof parseInt(o) ? o : this.index } }(PULSE.app.common), function (e, t, a) { a.listFilterClubSeasons = function (e, n, o) { var r = this; r.list = e, r.team = n, r.filterController = o; var i = { url: a.createApiPath("clubs.single", { id: r.team }), method: "GET", callback: r.filterCompSeasons, forceCallback: !0, target: this }; t.data.manager.add(i) }, a.listFilterClubSeasons.prototype.filterCompSeasons = function (e) { var t = this, a = e.teams[0].grounds, n = [], o = []; a.forEach(function (e) { n = n.concat(e.compSeasonIds) }), o = t.list.filter(function (e) { return n.find(function (t) { return t === e.id }) }), t.filterController.dropdowns.compSeasons.renderOptions(o) } }(PULSE.app, PULSE.core, PULSE.app.common), function (e, t, a, n, o) { var r = 13, i = function (e) { window.onpopstate = function (t) { if (t.state && t.state.length) for (var a = 0; a < t.state.length; a++)e.dropdowns[t.state[a].name].restoreOptions(t.state[a].state); e.didFinishUpdate(!1) }, e.advancedFilterButtons && e.advancedFilterButtons.length > 0 && e.advancedFilterButtons[0].addEventListener("click", function (t) { e.element.classList.toggle("open") }), e.advancedFilterButtons && e.advancedFilterButtons.length > 1 && e.advancedFilterButtons[1].addEventListener("click", function (t) { e.element.classList.remove("open") }), e.mobileHeader && e.mobileHeader.addEventListener("click", function (t) { e.element.classList.remove("open") }) }, l = function (e, t) { for (var a = Object.keys(e.dropdowns), n = 0; n < a.length; n++)e.dropdowns[a[n]].config.dependencies && e.dropdowns[a[n]].config.dependencies.indexOf(t.config.name) > -1 && e.dropdowns[a[n]].updateOptionsFromDependencies(t.config.name, t.state) }, s = function (e, o, r) { e.mobileHeader = a.dom.appendDomString(e.element, Mustache.render(n.mobileheader, { title: "Adjust Filters" })), e.defaultItemIds && (e.defaultItemIds = e.defaultItemIds.split(",")), e.renderedDropdowns = [], e.dropdownsRendered = !1, 1 == o.length && a.style.addClass(e.element, "singleFilter"); for (var i = 0; i < o.length; i++) { var l = o[i]; e.defaultItemIds && e.defaultItemIds[i] && !l.defaultOptionId && (l.defaultOptionId = e.defaultItemIds[i]), l.index = i, l.visibleMobile = i === o.length - 1, e.dropdowns[l.name] = new t.dropDownItem(e.element, e, l) } for (i = 0; i < o.length; i++) { var s = o[i]; e.dropdowns[s.name].init() } e.advancedFilterButtons = a.dom.appendDomString(e.element, Mustache.render(n.mobilefooter, { title: "Adjust Filters" }), !0, !0), e.didFinishUpdate(!0, !0) }, c = function (e) { var t = Object.keys(e.dropdowns); e.url = window.location.href, t.map(function (t) { var n = e.dropdowns[t]; if (n.config.urlParameter) { var o = n.isActive() ? n.state.id : -1; e.url = a.url.updateUrlStringParam(e.url, n.config.urlParameter, o) } }); var n = e.getState(); n && (n = JSON.parse(JSON.stringify(n))), history.pushState(n, "", e.url) }; t.listFilterController = function (e, t) { var a = this; if (a.element = e, a.config = t, a.intervalChecker = !1, a.dropdowns = {}, a.delegate = a.config.delegate || !1, a.noInit = a.config.noInit, a.updateUrl = this.element.getAttribute("data-use-history") || this.element.getAttribute("data-use-basic-history") || !1, a.basicHistory = this.element.getAttribute("data-use-basic-history") || !1, a.defaultItemIds = a.element.getAttribute("data-filter-default-ids") || !1, a.url = !1, s(a, t.dropdowns, a.config), "true" === a.element.getAttribute("data-reset-available")) { var l = document.createElement("div"); l.innerHTML = Mustache.render(n.resetbutton, { translator: function () { return function (e, t) { return o.lookup(e) } } }), l.children[0].addEventListener("click", function () { a.resetAll() }), l.children[0].addEventListener("keypress", function (e) { var t = e.keyCode || e.which; t === r && a.resetAll() }), a.element.appendChild(l.children[0]) } i(a) }, t.listFilterController.prototype = Object.create(t.filterDropdownDelegate.prototype), t.listFilterController.prototype.resetAll = function () { for (var e = this, t = Object.keys(e.dropdowns), a = 0; a < t.length; a++)e.dropdowns[t[a]].displayDefaultOption(!0); e.delegate && e.delegate.filterCleared(e.getState()), e.updateUrl && c(e), e.delegate && e.waitForLoadComplete(function () { e.delegate.filterUpdated(e.getState()) }) }, t.listFilterController.prototype.setPageLoading = function (t, n, r) { if (r) { var i = r["class"] || ""; a.style.addClass(n, i) } t.loaderMarkup = t.loaderMarkup || Mustache.render(e.templates.scrollloader, { load: o.lookup("label.loadingmore") }), n.innerHTML = '<div class="loader">' + t.loaderMarkup + "</div>" }, t.listFilterController.prototype.getState = function () { var e = this, t = Object.keys(e.dropdowns), a = t.map(function (t) { return e.basicHistory ? { name: e.dropdowns[t].config.name, state: e.dropdowns[t].state, active: e.dropdowns[t].isActive() } : { name: e.dropdowns[t].config.name, state: e.dropdowns[t].state, config: e.dropdowns[t].config, autoId: e.dropdowns[t].autoInitStateId, active: e.dropdowns[t].isActive() } }); return a }, t.listFilterController.prototype.didUpdate = function (e) { var t = this; l(t, e) }, t.listFilterController.prototype.didFinishUpdate = function (e, t) { var a = this; !a.delegate || a.noInit && t ? a.updateUrl && e && !t && c(a) : a.waitForLoadComplete(function () { a.updateUrl && e && !t && c(a), a.delegate.filterUpdated(a.getState(), t) }) }, t.listFilterController.prototype.waitForLoadComplete = function (e) { var t = this; t.intervalChecker || (t.intervalChecker = setInterval(function () { for (var a = !0, n = Object.keys(t.dropdowns), o = 0; o < n.length; o++)t.dropdowns[n[o]].isloading && (a = !1); a && (clearInterval(t.intervalChecker), t.intervalChecker = null, e()) }, 500)) }, t.listFilterController.prototype.dropdownRendered = function (e) { var t = this; t.renderedDropdowns.indexOf(e) < 0 && t.renderedDropdowns.push(e) }, t.listFilterController.prototype.hasUrlUpdate = function () { var e = this; return e.updateUrl }, t.listFilterController.prototype.hide = function () { var e = this; e.element.style.display = "none" }, t.listFilterController.prototype.show = function () { var e = this; e.element.style.display = "" } }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N), function (e) { e.scrollLoaderDelegate = function () { }, e.scrollLoaderDelegate.prototype.didRequestLoad = function () { } }(PULSE.app.common), function (e, t, a, n) { var o = function (e) { var a = '<div class="loader" data-scroll-loader style="min-height:10px;" ></div>'; e.element = t.dom.appendDomString(e.container, a) }, r = function (e) { (e.boundary || document).addEventListener("scroll", function (t) { if (!e.loading && e.element) { var a; a = e.boundary ? e.element.getBoundingClientRect().top - e.boundary.getBoundingClientRect().top : e.element.getBoundingClientRect().top, (e.boundary.clientHeight || window.innerHeight) - a >= e.limit && 0 !== e.element.offsetHeight && (e.loading = !0, s(e), e.delegate && e.delegate.didRequestLoad()) } }) }, i = function (e) { e.element && e.container && (e.container.appendChild(e.element), l(e)) }, l = function (e) { e.element.style.display = "block", s(e) }, s = function (e) { if (e.element) { var t = n ? n.lookup("label.loadingmore") : "Loading More..."; e.element.innerHTML = Mustache.render(a.scrollloader, { load: t }) } }; e.scrollLoader = function (e, t, a, n) { var i = this; i.delegate = t, i.container = e, i.boundary = n || !1, i.loading = !1, i.element = !1, i.limit = 0, o(i), r(i) }, e.scrollLoader.prototype.reAppend = function () { var e = this; o(e), r(e) }, e.scrollLoader.prototype.contentLoaded = function () { var e = this; e.loading = !1 }, e.scrollLoader.prototype.removeLoader = function () { var e = this; e.element && e.element.parentNode && e.element.parentNode.removeChild(e.element), e.element = !1 }, e.scrollLoader.prototype.newLoader = function () { var e = this; e.element || o(e) }, e.scrollLoader.prototype.completedDataLoad = function (e) { var t = this; t.loading = !1, e ? t.removeLoader() : i(t) } }(PULSE.app.common, PULSE.core, PULSE.app.templates, PULSE.I18N), function (e, t, a, n) { var o = function (e) { var t = a.date.parseString(e); return t }, r = function (e) { return "https://www.facebook.com/" + e }, i = function (e) { if (!e || 0 === e.data.length) return null; var t = e.data[0]; return t.subattachments ? t.subattachments.data[0].media ? t.subattachments.data[0].media.image.src : "" : t.media ? t.media.image.src : "" }, l = function (e) { if (e.from && e.from.picture) return e.from.picture.data.url }; t.getFacebookModel = function (e) { var a, s = r(e.from.id), c = o(e.created_time), d = t.getSinceString(c), p = ""; return "photo" === e.type && (p = e.picture), a = { timestamp: d, id: e.id, text: e.message ? e.message : e.description ? e.description : n.lookup("label.socialfeed.message.facebook"), link: e.permalink_url, photo: i(e.attachments), feedType: "facebook", user: { id: e.from.id, name: e.from.name, link: s, avatarUrl: l(e) } } } }(PULSE.app, PULSE.app.common, PULSE.core, PULSE.I18N), function (e, t, a) { var n = function (e) { var t = new Date(1e3 * parseInt(e)); return t }, o = function (e) { return "https://www.instagram.com/" + e }; t.getInstagramModel = function (e) { var a, r = o(e.user.username), i = n(e.created_time), l = t.getSinceString(i), s = ""; return "image" === e.type && (s = e.images.low_resolution.url), a = { timestamp: l, id: e.id, text: e.caption.text, link: e.link, photo: s, feedType: "instagram", user: { id: e.user.id, name: e.user.full_name, account: e.user.username, link: r, avatarUrl: e.user.profile_picture } } } }(PULSE.app, PULSE.app.common, PULSE.core), function (e, t, a) { var n = function (e) { var t = a.date.parseString(e); return t }, o = function (e) { return "//twitter.com/" + e }, r = function (e) { return "//twitter.com/search?q=%23" + e }, i = function (e, t) { if (!t) return e = e.replace(/(https{0,1}:\/\/\S+)/g, '<a target="_blank" href="$1">$1</a>').replace(/@(\S+)/g, '<a target="_blank" href="//twitter.com/$1">@$1</a>').replace(/#(\S+)/g, '<a target="_blank" href="//twitter.com/#!/search?q=%23$1">#$1</a>'); var a = []; if (t.urls) for (var n = 0, i = t.urls.length; n < i; n++) { var l = t.urls[n], s = '<a href="' + l.url + '" title="' + l.expanded_url + '" target="_blank">' + l.display_url + "</a>"; a.push({ html: s, original: l.url, start: l.indices[0], end: l.indices[1] }) } if (t.media) for (var n = 0, i = t.media.length; n < i; n++) { var l = t.media[n], s = '<a href="' + l.url + '" title="' + l.expanded_url + '" target="_blank">' + l.display_url + "</a>"; a.push({ html: s, original: l.url, start: l.indices[0], end: l.indices[1] }) } if (t.user_mentions) for (var n = 0, i = t.user_mentions.length; n < i; n++) { var l = t.user_mentions[n], c = o(l.screen_name), s = '<a href="' + c + '" target="_blank">&#64;' + l.screen_name + "</a>"; a.push({ html: s, original: "@" + l.screen_name, start: l.indices[0], end: l.indices[1] }) } if (t.hashtags) for (var n = 0, i = t.hashtags.length; n < i; n++) { var l = t.hashtags[n], c = r(l.text), s = '<a href="' + c + '" target="_blank">&#35;' + l.text + "</a>"; a.push({ html: s, original: "#" + l.text, start: l.indices[0], end: l.indices[1] }) } a.sort(function (e, t) { return e.start - t.start }); for (var n = 0, i = a.length; n < i; n++) { var l = a[n], d = e.toLowerCase(), p = l.original.toLowerCase(); l.start = d.search(p), l.end = l.start + l.original.length } for (var u = "", m = 0, n = 0, i = a.length; n < i; n++) { var l = a[n], f = l.start - m; u += e.substr(m, f), u += l.html, m = l.end } return u += e.substr(m) }; t.getTweetModel = function (e) { var a, r = o(e.actor.preferredUsername), l = n(e.postedTime), s = t.getSinceString(l), c = "", d = []; if (e.entities && e.entities.media) for (var p = 0, u = e.entities.media.length; p < u; p++)"photo" === e.entities.media[p].type && (c = e.entities.media[p].media_url); if (e.twitter_entities && e.twitter_entities.media) for (var p = 0, u = e.twitter_entities.media.length; p < u; p++) { var m = e.twitter_entities.media[p]; d.push(m.media_url), c = m.media_url } if (e.long_object && e.long_object.twitter_entities && e.long_object.twitter_entities.media) for (var f = e.long_object.twitter_entities.media, p = 0, u = f.length; p < u; p++)"photo" === f[p].type && (c = f[p].media_url); return a = { timestamp: s, id: e.id, text: i(e.body), link: e.link, photo: c, extended_media: d, user: { id: e.actor.id, name: e.actor.displayName, account: e.actor.preferredUsername, link: r, description: e.actor.summary, avatarUrl: e.actor.image }, feedType: "twitter", favorites: e.favoritesCount, retweets: e.retweetCount } } }(PULSE.app, PULSE.app.common, PULSE.core), function (e, t, a, n) {
n.pageShare = function (n, o) { var r = this; if (r.element = n, r.render = r.element.getAttribute("data-render"), r.bodyContent = r.element.getAttribute("data-body"), r.defaultOpen = r.element.getAttribute("data-open"), r.url = r.element.getAttribute("data-link-to") ? window.location.hostname + r.element.getAttribute("data-link-to") : o, r.render && e.templates[r.render]) { var i = { share: a.lookup("label.share"), shareWhatsapp: a.lookup("action.share.whatsApp"), shareTwitter: a.lookup("action.share.twitter"), shareFacebook: a.lookup("action.share.facebook"), shareGoogle: a.lookup("action.share.googleplus"), shareCopy: a.lookup("action.share.copy"), shareEmail: a.lookup("action.share.email") }; r.element.innerHTML = Mustache.render(e.templates[r.render], i) } r.shareButton = r.element.getElementsByClassName("socialShareBtn")[0], r.shareButton && (r.hoverElem = r.shareButton.parentElement), r.defaultOpen && t.style.toggleClass(r.hoverElem, "open"), r.setListeners() }, n.pageShare.prototype.copyUrl = function (e, t, a) { var n = document.createElement("input"), o = document.createElement("span"), r = e.querySelector("." + t); document.body.appendChild(n), n.value = a, n.select(), document.execCommand("copy"), document.body.removeChild(n), r.appendChild(o), o.className = "option__actionlabel", o.innerHTML = "Link copied", setTimeout(function () { r.removeChild(o) }, 1e3) }, n.pageShare.prototype.getSocialDataset = function (e) { var t = e, a = this.element.getAttribute("data-social-service"); if (a) return this.element.dataset; do { var n = t.getAttribute("data-social-service"); if (n) return t.dataset; t = t.parentElement } while (t !== this.element); return !1 }, n.pageShare.prototype.setUrl = function (e) { var t = this; t.url = e }, n.pageShare.prototype.setListeners = function () {
    var a = this; a.shareButton && ["keypress", "click"].forEach(function (e) { a.shareButton.addEventListener(e, function (e) { 13 !== e.which && "click" !== e.type || (e.preventDefault(), t.style.toggleClass(a.hoverElem, "open")) }) }), this.element.addEventListener("click", function (t) {
        var n = a.getSocialDataset(t.target); n && n.socialService && ("copy" === n.socialService ? a.copyUrl(this, n.socialService, window.location.href) : e.socialHelpers[n.socialService].sharePage(a.url, !1, a.bodyContent));
    })
}
}(PULSE.app, PULSE.core, PULSE.I18N, PULSE.app.common), function (e, t, a, n) { n.promoShare = function (t, n) { var o = this; if (o.element = t, o.render = o.element.getAttribute("data-render"), o.bodyContent = o.element.getAttribute("data-body"), o.defaultOpen = o.element.getAttribute("data-open"), o.url = o.element.getAttribute("data-link-to") ? window.location.hostname + o.element.getAttribute("data-link-to") : n, o.render && e.templates[o.render]) { var r = { share: a.lookup("label.share"), shareWhatsapp: a.lookup("action.share.whatsApp"), shareTwitter: a.lookup("action.share.twitter"), shareFacebook: a.lookup("action.share.facebook"), shareGoogle: a.lookup("action.share.googleplus"), shareEmail: a.lookup("action.share.email") }; o.element.innerHTML = Mustache.render(e.templates[o.render], r) } o.shareButton = o.element.getElementsByClassName("js-promo-share"), o.setListeners() }, n.promoShare.prototype.getSocialDataset = function (e) { var t = e, a = this.element.getAttribute("data-social-service"); if (a) return this.element.dataset; do { var n = t.getAttribute("data-social-service"); if (n) return t.dataset; t = t.parentElement } while (t !== this.element); return !1 }, n.promoShare.prototype.setUrl = function (e) { var t = this; t.url = e }, n.promoShare.prototype.setListeners = function () { var a = this; a.shareButton && ["keypress", "click"].forEach(function (e) { a.shareButton.addEventListener(e, function (e) { 13 !== e.which && "click" !== e.type || (e.preventDefault(), t.style.toggleClass(a.hoverElem, "open")) }) }), this.element.addEventListener("click", function (t) { var n = a.getSocialDataset(t.target); n && n.socialService && e.socialHelpers[n.socialService].sharePage(a.url, !1, a.bodyContent) }) } }(PULSE.app, PULSE.core, PULSE.I18N, PULSE.app.common);